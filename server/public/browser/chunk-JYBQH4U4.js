import{b as vn,f as Dn}from"./chunk-BYWLGOZ7.js";import{a as mn,b as fn,c as _n}from"./chunk-SRH32LXR.js";import{i as yt,j as pn}from"./chunk-I5SXR335.js";import{a as xn,b as kn,c as yn,d as wn,e as Tn,f as Mn,g as En,h as bn,i as In,j as Pn,k as Rn}from"./chunk-7FB65LAP.js";import{b as ln,c as cn,e as dn,f as hn}from"./chunk-LDSH5ZEA.js";import{a as Gi,b as Je,d as ji,e as Zi,f as qi,h as et,j as zi,l as Qi,m as Ki,r as Xi,s as Ji,t as en}from"./chunk-EUUJERWT.js";import{c as un,d as kt}from"./chunk-IVREERM6.js";import{a as wt,d as Cn}from"./chunk-ALHQIKHA.js";import{$ as Ce,$a as xe,$b as Wi,A as ht,Aa as Pi,Ab as Me,Ba as $e,Bb as Fi,Ca as mt,Cb as $i,Cc as Ee,D as Ne,Da as we,Db as Li,Ea as Ri,Fa as y,G as Ve,Gb as Bi,Gc as Le,Ic as Zt,Ja as ve,Kb as St,L as Ye,La as A,M as Ti,Na as Ai,Nc as ue,Oc as Dt,P as q,Q as Mi,Qa as Qe,R as ut,Ra as De,Rb as Xe,S as Ei,Sb as Hi,Sc as rn,T as E,Ta as te,Ua as ie,Uc as ae,Va as p,Vc as qt,Wa as m,X as qe,Xa as H,Xb as jt,Y as ge,Ya as b,Yb as Ui,Yc as sn,Z as Se,Za as I,Zc as re,_c as on,a as $,ab as Oi,b as ct,ba as z,c as Si,cb as O,cd as Be,d as Ua,da as ze,e as Wa,ea as pt,eb as F,ed as xt,fb as ft,g as Ci,ga as Fe,gb as Ke,hb as Ni,hd as gn,ib as Gt,id as Sn,j as Oe,jb as _t,jc as tn,kb as gt,kc as ne,l as Y,lc as he,m as W,nb as Vi,o as vi,ob as g,p as Di,pb as C,qa as u,qb as Q,rc as nn,s as Z,sc as an,t as xi,ta as bi,tc as Ct,ua as Ii,v as ki,vb as de,wb as Te,x as yi,xb as Yi,y as wi,yb as v,z as dt,za as ee,zb as x,zc as vt}from"./chunk-PQW76BEZ.js";var An=Ua((zt,Qt)=>{"use strict";(function(t,n){typeof define=="function"&&define.amd?define([],n):typeof zt<"u"?n():(n(),t.FileSaver={})})(zt,function(){"use strict";function t(d,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,o,h){var f=new XMLHttpRequest;f.open("GET",d),f.responseType="blob",f.onload=function(){s(f.response,o,h)},f.onerror=function(){console.error("could not download file")},f.send()}function e(d){var o=new XMLHttpRequest;o.open("HEAD",d,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(o)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(d,o,h){var f=a.URL||a.webkitURL,_=document.createElement("a");o=o||d.name||"download",_.download=o,_.rel="noopener",typeof d=="string"?(_.href=d,_.origin===location.origin?i(_):e(_.href)?n(d,o,h):i(_,_.target="_blank")):(_.href=f.createObjectURL(d),setTimeout(function(){f.revokeObjectURL(_.href)},4e4),setTimeout(function(){i(_)},0))}:"msSaveOrOpenBlob"in navigator?function(d,o,h){if(o=o||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,h),o);else if(e(d))n(d,o,h);else{var f=document.createElement("a");f.href=d,f.target="_blank",setTimeout(function(){i(f)})}}:function(d,o,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof d=="string")return n(d,o,h);var _=d.type==="application/octet-stream",N=/constructor/i.test(a.HTMLElement)||a.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||_&&N||r)&&typeof FileReader<"u"){var c=new FileReader;c.onloadend=function(){var X=c.result;X=L?X:X.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=X:location=X,f=null},c.readAsDataURL(d)}else{var k=a.URL||a.webkitURL,K=k.createObjectURL(d);f?f.location=K:location.href=K,f=null,setTimeout(function(){k.revokeObjectURL(K)},4e4)}});a.saveAs=s.saveAs=s,typeof Qt<"u"&&(Qt.exports=s)})});var Na=Wa(An());var Ga=Math.pow(10,8)*24*60*60*1e3,bo=-Ga,Tt=6048e5,On=864e5;var ja=3600;var Nn=ja*24,Io=Nn*7,Za=Nn*365.2425,qa=Za/12,Po=qa*3,Kt=Symbol.for("constructDateFrom");function P(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&Kt in t?t[Kt](n):t instanceof Date?new t.constructor(n):new Date(n)}function S(t,n){return P(n||t,t)}function pe(t,n,e){let i=S(t,e?.in);return isNaN(n)?P(e?.in||t,NaN):(n&&i.setDate(i.getDate()+n),i)}function U(t,n,e){let i=S(t,e?.in);if(isNaN(n))return P(e?.in||t,NaN);if(!n)return i;let a=i.getDate(),r=P(e?.in||t,i.getTime());r.setMonth(i.getMonth()+n+1,0);let s=r.getDate();return a>=s?r:(i.setFullYear(r.getFullYear(),r.getMonth(),a),i)}var za={};function se(){return za}function G(t,n){let e=se(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=S(t,n?.in),r=a.getDay(),s=(r<i?7:0)+r-i;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function be(t,n){return G(t,ct($({},n),{weekStartsOn:1}))}function Mt(t,n){let e=S(t,n?.in),i=e.getFullYear(),a=P(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);let r=be(a),s=P(e,0);s.setFullYear(i,0,4),s.setHours(0,0,0,0);let d=be(s);return e.getTime()>=r.getTime()?i+1:e.getTime()>=d.getTime()?i:i-1}function Xt(t){let n=S(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function oe(t,...n){let e=P.bind(null,t||n.find(i=>typeof i=="object"));return n.map(e)}function j(t,n){let e=S(t,n?.in);return e.setHours(0,0,0,0),e}function Vn(t,n,e){let[i,a]=oe(e?.in,t,n),r=j(i),s=j(a),d=+r-Xt(r),o=+s-Xt(s);return Math.round((d-o)/On)}function Yn(t,n){let e=Mt(t,n),i=P(n?.in||t,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),be(i)}function Et(t,n,e){return pe(t,n*7,e)}function Jt(t,n,e){return U(t,n*12,e)}function bt(t,n,e){let[i,a]=oe(e?.in,t,n);return+j(i)==+j(a)}function Fn(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function He(t){return!(!Fn(t)&&typeof t!="number"||isNaN(+S(t)))}function ei(t,n){let e=S(t,n?.in);return e.setHours(23,59,59,999),e}function tt(t,n){let e=S(t,n?.in),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function $n(t,n){let[e,i]=oe(t,n.start,n.end);return{start:e,end:i}}function Ln(t,n){let{start:e,end:i}=$n(n?.in,t),a=+e>+i,r=a?+e:+i,s=a?i:e;s.setHours(0,0,0,0),s.setDate(1);let d=n?.step??1;if(!d)return[];d<0&&(d=-d,a=!a);let o=[];for(;+s<=r;)o.push(P(e,s)),s.setMonth(s.getMonth()+d);return a?o.reverse():o}function it(t,n){let e=S(t,n?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function nt(t,n){let e=S(t,n?.in),i=e.getFullYear();return e.setFullYear(i+1,0,0),e.setHours(23,59,59,999),e}function me(t,n){let e=S(t,n?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Bn(t,n){let e=se(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=S(t,n?.in),r=a.getDay(),s=(r<i?-7:0)+6-(r-i);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}var Qa={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hn=(t,n,e)=>{let i,a=Qa[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function It(t){return(n={})=>{let e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}var Ka={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xa={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ja={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Un={date:It({formats:Ka,defaultWidth:"full"}),time:It({formats:Xa,defaultWidth:"full"}),dateTime:It({formats:Ja,defaultWidth:"full"})};var er={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wn=(t,n,e,i)=>er[t];function Ue(t){return(n,e)=>{let i=e?.context?String(e.context):"standalone",a;if(i==="formatting"&&t.formattingValues){let s=t.defaultFormattingWidth||t.defaultWidth,d=e?.width?String(e.width):s;a=t.formattingValues[d]||t.formattingValues[s]}else{let s=t.defaultWidth,d=e?.width?String(e.width):t.defaultWidth;a=t.values[d]||t.values[s]}let r=t.argumentCallback?t.argumentCallback(n):n;return a[r]}}var tr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ir={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ar={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},or=(t,n)=>{let e=Number(t),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Gn={ordinalNumber:or,era:Ue({values:tr,defaultWidth:"wide"}),quarter:Ue({values:ir,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ue({values:nr,defaultWidth:"wide"}),day:Ue({values:ar,defaultWidth:"wide"}),dayPeriod:Ue({values:rr,defaultWidth:"wide",formattingValues:sr,defaultFormattingWidth:"wide"})};function We(t){return(n,e={})=>{let i=e.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=n.match(a);if(!r)return null;let s=r[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(d)?cr(d,_=>_.test(s)):lr(d,_=>_.test(s)),h;h=t.valueCallback?t.valueCallback(o):o,h=e.valueCallback?e.valueCallback(h):h;let f=n.slice(s.length);return{value:h,rest:f}}}function lr(t,n){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}function cr(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}function jn(t){return(n,e={})=>{let i=n.match(t.matchPattern);if(!i)return null;let a=i[0],r=n.match(t.parsePattern);if(!r)return null;let s=t.valueCallback?t.valueCallback(r[0]):r[0];s=e.valueCallback?e.valueCallback(s):s;let d=n.slice(a.length);return{value:s,rest:d}}}var dr=/^(\d+)(th|st|nd|rd)?/i,hr=/\d+/i,ur={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pr={any:[/^b/i,/^(a|c)/i]},mr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fr={any:[/1/i,/2/i,/3/i,/4/i]},_r={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zn={ordinalNumber:jn({matchPattern:dr,parsePattern:hr,valueCallback:t=>parseInt(t,10)}),era:We({matchPatterns:ur,defaultMatchWidth:"wide",parsePatterns:pr,defaultParseWidth:"any"}),quarter:We({matchPatterns:mr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any",valueCallback:t=>t+1}),month:We({matchPatterns:_r,defaultMatchWidth:"wide",parsePatterns:gr,defaultParseWidth:"any"}),day:We({matchPatterns:Sr,defaultMatchWidth:"wide",parsePatterns:Cr,defaultParseWidth:"any"}),dayPeriod:We({matchPatterns:vr,defaultMatchWidth:"any",parsePatterns:Dr,defaultParseWidth:"any"})};var ti={code:"en-US",formatDistance:Hn,formatLong:Un,formatRelative:Wn,localize:Gn,match:Zn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qn(t,n){let e=S(t,n?.in);return Vn(e,me(e))+1}function zn(t,n){let e=S(t,n?.in),i=+be(e)-+Yn(e);return Math.round(i/Tt)+1}function Pt(t,n){let e=S(t,n?.in),i=e.getFullYear(),a=se(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=P(n?.in||t,0);s.setFullYear(i+1,0,r),s.setHours(0,0,0,0);let d=G(s,n),o=P(n?.in||t,0);o.setFullYear(i,0,r),o.setHours(0,0,0,0);let h=G(o,n);return+e>=+d?i+1:+e>=+h?i:i-1}function Qn(t,n){let e=se(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,a=Pt(t,n),r=P(n?.in||t,0);return r.setFullYear(a,0,i),r.setHours(0,0,0,0),G(r,n)}function Kn(t,n){let e=S(t,n?.in),i=+G(e,n)-+Qn(e,n);return Math.round(i/Tt)+1}function w(t,n){let e=t<0?"-":"",i=Math.abs(t).toString().padStart(n,"0");return e+i}var fe={y(t,n){let e=t.getFullYear(),i=e>0?e:1-e;return w(n==="yy"?i%100:i,n.length)},M(t,n){let e=t.getMonth();return n==="M"?String(e+1):w(e+1,2)},d(t,n){return w(t.getDate(),n.length)},a(t,n){let e=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,n){return w(t.getHours()%12||12,n.length)},H(t,n){return w(t.getHours(),n.length)},m(t,n){return w(t.getMinutes(),n.length)},s(t,n){return w(t.getSeconds(),n.length)},S(t,n){let e=n.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return w(a,n.length)}};var Ge={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ii={G:function(t,n,e){let i=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(t,n,e){if(n==="yo"){let i=t.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return fe.y(t,n)},Y:function(t,n,e,i){let a=Pt(t,i),r=a>0?a:1-a;if(n==="YY"){let s=r%100;return w(s,2)}return n==="Yo"?e.ordinalNumber(r,{unit:"year"}):w(r,n.length)},R:function(t,n){let e=Mt(t);return w(e,n.length)},u:function(t,n){let e=t.getFullYear();return w(e,n.length)},Q:function(t,n,e){let i=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return w(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,e){let i=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return w(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,e){let i=t.getMonth();switch(n){case"M":case"MM":return fe.M(t,n);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,e){let i=t.getMonth();switch(n){case"L":return String(i+1);case"LL":return w(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,e,i){let a=Kn(t,i);return n==="wo"?e.ordinalNumber(a,{unit:"week"}):w(a,n.length)},I:function(t,n,e){let i=zn(t);return n==="Io"?e.ordinalNumber(i,{unit:"week"}):w(i,n.length)},d:function(t,n,e){return n==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):fe.d(t,n)},D:function(t,n,e){let i=qn(t);return n==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):w(i,n.length)},E:function(t,n,e){let i=t.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,e,i){let a=t.getDay(),r=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(r);case"ee":return w(r,2);case"eo":return e.ordinalNumber(r,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,e,i){let a=t.getDay(),r=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(r);case"cc":return w(r,n.length);case"co":return e.ordinalNumber(r,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,e){let i=t.getDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return w(a,n.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,e){let a=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,e){let i=t.getHours(),a;switch(i===12?a=Ge.noon:i===0?a=Ge.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,e){let i=t.getHours(),a;switch(i>=17?a=Ge.evening:i>=12?a=Ge.afternoon:i>=4?a=Ge.morning:a=Ge.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,e){if(n==="ho"){let i=t.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return fe.h(t,n)},H:function(t,n,e){return n==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):fe.H(t,n)},K:function(t,n,e){let i=t.getHours()%12;return n==="Ko"?e.ordinalNumber(i,{unit:"hour"}):w(i,n.length)},k:function(t,n,e){let i=t.getHours();return i===0&&(i=24),n==="ko"?e.ordinalNumber(i,{unit:"hour"}):w(i,n.length)},m:function(t,n,e){return n==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):fe.m(t,n)},s:function(t,n,e){return n==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):fe.s(t,n)},S:function(t,n){return fe.S(t,n)},X:function(t,n,e){let i=t.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return Jn(i);case"XXXX":case"XX":return Ie(i);case"XXXXX":case"XXX":default:return Ie(i,":")}},x:function(t,n,e){let i=t.getTimezoneOffset();switch(n){case"x":return Jn(i);case"xxxx":case"xx":return Ie(i);case"xxxxx":case"xxx":default:return Ie(i,":")}},O:function(t,n,e){let i=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Xn(i,":");case"OOOO":default:return"GMT"+Ie(i,":")}},z:function(t,n,e){let i=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Xn(i,":");case"zzzz":default:return"GMT"+Ie(i,":")}},t:function(t,n,e){let i=Math.trunc(+t/1e3);return w(i,n.length)},T:function(t,n,e){return w(+t,n.length)}};function Xn(t,n=""){let e=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),r=i%60;return r===0?e+String(a):e+String(a)+n+w(r,2)}function Jn(t,n){return t%60===0?(t>0?"-":"+")+w(Math.abs(t)/60,2):Ie(t,n)}function Ie(t,n=""){let e=t>0?"-":"+",i=Math.abs(t),a=w(Math.trunc(i/60),2),r=w(i%60,2);return e+a+n+r}var ea=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ta=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xr=(t,n)=>{let e=t.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return ea(t,n);let r;switch(i){case"P":r=n.dateTime({width:"short"});break;case"PP":r=n.dateTime({width:"medium"});break;case"PPP":r=n.dateTime({width:"long"});break;case"PPPP":default:r=n.dateTime({width:"full"});break}return r.replace("{{date}}",ea(i,n)).replace("{{time}}",ta(a,n))},ia={p:ta,P:xr};var kr=/^D+$/,yr=/^Y+$/,wr=["D","DD","YY","YYYY"];function na(t){return kr.test(t)}function aa(t){return yr.test(t)}function ra(t,n,e){let i=Tr(t,n,e);if(console.warn(i),wr.includes(t))throw new RangeError(i)}function Tr(t,n,e){let i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Mr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Er=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,br=/^'([^]*?)'?$/,Ir=/''/g,Pr=/[a-zA-Z]/;function sa(t,n,e){let i=se(),a=e?.locale??i.locale??ti,r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=S(t,e?.in);if(!He(d))throw new RangeError("Invalid time value");let o=n.match(Er).map(f=>{let _=f[0];if(_==="p"||_==="P"){let N=ia[_];return N(f,a.formatLong)}return f}).join("").match(Mr).map(f=>{if(f==="''")return{isToken:!1,value:"'"};let _=f[0];if(_==="'")return{isToken:!1,value:Rr(f)};if(ii[_])return{isToken:!0,value:f};if(_.match(Pr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(o=a.localize.preprocessor(d,o));let h={firstWeekContainsDate:r,weekStartsOn:s,locale:a};return o.map(f=>{if(!f.isToken)return f.value;let _=f.value;(!e?.useAdditionalWeekYearTokens&&aa(_)||!e?.useAdditionalDayOfYearTokens&&na(_))&&ra(_,n,String(t));let N=ii[_[0]];return N(d,_,a.localize,h)}).join("")}function Rr(t){let n=t.match(br);return n?n[1].replace(Ir,"'"):t}function oa(t,n){let e=S(t,n?.in),i=e.getFullYear(),a=e.getMonth(),r=P(e,0);return r.setFullYear(i,a+1,0),r.setHours(0,0,0,0),r.getDate()}function la(t,n){return S(t,n?.in).getMonth()}function Rt(t,n){return S(t,n?.in).getFullYear()}function ca(t,n){return+S(t)<+S(n)}function At(t,n){return+S(t)==+S(n)}function ni(t,n,e){let[i,a]=oe(e?.in,t,n);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function da(t,n,e){let[i,a]=oe(e?.in,t,n);return i.getFullYear()===a.getFullYear()}function ha(t,n,e){let i=+S(t,e?.in),[a,r]=[+S(n.start,e?.in),+S(n.end,e?.in)].sort((s,d)=>s-d);return i>=a&&i<=r}function ua(t,n,e){return pe(t,-n,e)}function pa(t,n,e){let i=S(t,e?.in),a=i.getFullYear(),r=i.getDate(),s=P(e?.in||t,0);s.setFullYear(a,n,15),s.setHours(0,0,0,0);let d=oa(s);return i.setMonth(n,Math.min(r,d)),i}function ai(t,n,e){let i=S(t,e?.in);return isNaN(+i)?P(e?.in||t,NaN):(i.setFullYear(n),i)}function _e(t,n,e){return U(t,-n,e)}function ma(t,n,e){return Et(t,-n,e)}var Ar=["*"],Or=()=>({month:"long",year:"numeric"}),Nr=()=>({weekday:"short"}),Vr=()=>({day:"numeric"});function Yr(t,n){if(t&1&&(p(0,"td"),g(1),v(2,"odxDateLabel"),m()),t&2){let e=n.$implicit;u(),Q(" ",Me(2,1,e,Te(4,Nr)).charAt(0)," ")}}function Fr(t,n){if(t&1){let e=xe();p(0,"td",5)(1,"button",6),O("click",function(){let a=ge(e).$implicit,r=F(2);return Se(r.selectDate(a))}),g(2),v(3,"odxDateLabel"),m()()}if(t&2){let e=n.$implicit,i=F(2);u(),A("disabled",i.isDateDisabled(e))("odxCalendarCell",e)("odxCalendarCellActiveDate",i.activeDate)("odxCalendarCellCalendarView",i.currentView)("odxCalendarCellSelectedDate",i.selectedDate)("odxCalendarCellSelectedDateRange",i.selectedDateRange)("odxCalendarCellPreviewDate",i.previewDate),u(),Q(" ",Me(3,8,e,Te(11,Vr))," ")}}function $r(t,n){if(t&1&&(p(0,"tr"),te(1,Fr,4,12,"td",5,De),m()),t&2){let e=n.$implicit;u(),ie(e)}}var xa=()=>({year:"numeric"}),Lr=()=>({month:"short"});function Br(t,n){if(t&1){let e=xe();p(0,"td",5)(1,"button",6),O("click",function(){let a=ge(e).$implicit,r=F(2);return Se(r.selectDate(a))}),g(2),v(3,"odxDateLabel"),m()()}if(t&2){let e=n.$implicit,i=F(2);u(),A("disabled",i.isDateDisabled(e))("odxCalendarCell",e)("odxCalendarCellActiveDate",i.activeDate)("odxCalendarCellCalendarView",i.currentView)("odxCalendarCellSelectedDate",i.selectedDate)("odxCalendarCellSelectedDateRange",i.selectedDateRange),u(),Q(" ",Me(3,7,e,Te(10,Lr))," ")}}function Hr(t,n){if(t&1&&(p(0,"tr",4),te(1,Br,4,11,"td",5,De),m()),t&2){let e=n.$implicit;u(),ie(e)}}function Ur(t,n){if(t&1){let e=xe();p(0,"td",4)(1,"button",5),v(2,"async"),O("click",function(){let a=ge(e).$implicit,r=F(2);return Se(r.selectDate(a))}),g(3),v(4,"odxDateLabel"),m()()}if(t&2){let e=n.$implicit,i=F(2);u(),A("disabled",i.isDateDisabled(e))("odxCalendarCell",e)("odxCalendarCellActiveDate",x(2,7,i.calendar.activeDate$))("odxCalendarCellCalendarView",i.currentView)("odxCalendarCellSelectedDate",i.selectedDate)("odxCalendarCellSelectedDateRange",i.selectedDateRange),u(2),Q(" ",Me(4,9,e,Te(12,xa))," ")}}function Wr(t,n){if(t&1&&(p(0,"tr",3),te(1,Ur,5,13,"td",4,De),m()),t&2){let e=n.$implicit;u(),ie(e)}}function Gr(t,n){if(t&1&&H(0,"odx-calendar-year",0),t&2){let e=F(),i=F();A("activeDate",e.activeDate)("selectedDate",e.selectedDate)("selectedDateRange",e.selectedDateRange)("minDate",i.minDate)("maxDate",i.maxDate)("filterFn",i.filterFn)}}function jr(t,n){if(t&1&&H(0,"odx-calendar-years",0),t&2){let e=F(),i=F();A("activeDate",e.activeDate)("selectedDate",e.selectedDate)("selectedDateRange",e.selectedDateRange)("minDate",i.minDate)("maxDate",i.maxDate)("filterFn",i.filterFn)}}function Zr(t,n){if(t&1&&H(0,"odx-calendar-month",1),t&2){let e=F(),i=F();A("activeDate",e.activeDate)("selectedDate",e.selectedDate)("selectedDateRange",e.selectedDateRange)("previewDate",e.previewDate)("minDate",i.minDate)("maxDate",i.maxDate)("filterFn",i.filterFn)}}function qr(t,n){if(t&1&&y(0,Gr,1,6,"odx-calendar-year",0)(1,jr,1,6,"odx-calendar-years",0)(2,Zr,1,7,"odx-calendar-month",1),t&2){let e,i=F();Qe((e=n.calendarView)===i.CalendarView.Year?0:e===i.CalendarView.Years?1:2)}}var je=function(t){return t[t.Date=0]="Date",t[t.DateRange=1]="DateRange",t}(je||{}),{CalendarConfig:eh,CalendarDefaultConfig:th,injectCalendarConfig:rt,provideCalendarConfig:ih}=Dt("Calendar","@odx/angular/components/calendar",{displayAdjacentDays:!0,selectionMode:je.Date,yearView:{itemsPerRow:3},yearsView:{itemsPerRow:3,padding:100}}),T=function(t){return t.Month="month",t.Year="year",t.Years="years",t}(T||{}),ke=function(t){return t.NothingSelected="NothingSelected",t.StartSelected="StartSelected",t.EndSelected="EndSelected",t}(ke||{}),fa={skipDaterangeUpdate:!1,emitOutside:!1},zr={[T.Month]:(t,n)=>bt(t,n),[T.Year]:(t,n)=>ni(t,n),[T.Years]:(t,n)=>da(t,n)};function Ot(t,n,e){return zr[e](t,n)}function Qr(t){switch(t){case T.Year:return{month:"long",year:"numeric"};case T.Years:return{year:"numeric"};default:return{month:"long",day:"2-digit",year:"numeric"}}}var Kr={[T.Month]:(t,n)=>ei(t)<ei(n),[T.Year]:(t,n)=>tt(t)<tt(n),[T.Years]:(t,n)=>nt(t)<nt(n)};function Xr(t,n,e){return Kr[e](t,n)}var Jr={[T.Month]:(t,n)=>j(t)>j(n),[T.Year]:(t,n)=>it(t)>it(n),[T.Years]:(t,n)=>me(t)>me(n)};function es(t,n,e){return Jr[e](t,n)}function ts(t,n,e,i,a){let r=e&&es(e,t,n),s=i&&Xr(i,t,n),d=n===T.Month&&!!a?.(t);return r||s||d}function ri(t){try{let n=nn(t)?Date.parse(t):t;return He(n)?S(n):new Date}catch{return new Date}}function ka(t,n){return ca(t,n)||At(t,n)}var is={[T.Month]:(t,n)=>t<it(U(n,1)),[T.Year]:(t,n)=>t<me(U(n,12)),[T.Years]:()=>!1};function ns(t,n,e){return is[e](t,n)}var as={[T.Month]:(t,n)=>t>tt(_e(n,1)),[T.Year]:(t,n)=>t>nt(_e(n,12)),[T.Years]:()=>!1};function rs(t,n,e){return as[e](t,n)}var Pe=(()=>{class t{constructor(){this.activeDate$$=new Oe(null),this.hoveredDate$$=new Oe(null),this.calendarView$$=new Oe(T.Month),this.dateSelectEvents$$=new Oe({date:null,options:fa}),this.outputDate$=new z,this.calendarView$=this.calendarView$$.pipe(Ve({bufferSize:1,refCount:!0})),this.dateSelectEvents$=this.dateSelectEvents$$.asObservable(),this.selectedDate$=this.dateSelectEvents$$.pipe(Z(e=>e.date),Ve({bufferSize:1,refCount:!0})),this.activeDate$=this.activeDate$$.pipe(dt(Boolean),Ne((e,i)=>At(e,i)),Ve({bufferSize:1,refCount:!0})),this.previewDate$=wi(this.activeDate$$,this.hoveredDate$$).pipe(dt(Boolean),Ne((e,i)=>At(e,i)),Ve({bufferSize:1,refCount:!0}))}setActiveDate(e){Ct(e)&&this.activeDate$$.next(ri(e))}setHoveredDate(e){Ct(e)&&this.hoveredDate$$.next(ri(e))}selectDate(e,i){let a=Ct(e)?j(ri(e)):null;this.dateSelectEvents$$.next({date:a,options:$($({},fa),i)}),i?.emitOutside&&this.outputDate$.next(a),this.setActiveDate(a)}changeView(e){this.calendarView$$.next(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),ya=(()=>{let t=class si{constructor(){this.isPreviousDisabled=!1,this.isNextDisabled=!1,this.element=Ee(),this.minDate=null,this.maxDate=null,this.previous=new z,this.next=new z,this.changeView=new z}ngOnChanges(e){ue(e,["activeDate","calendarView","minDate","maxDate"],!1)&&(this.isPreviousDisabled=this.minDate?rs(this.minDate,this.activeDate,this.calendarView):!1,this.isNextDisabled=this.maxDate?ns(this.maxDate,this.activeDate,this.calendarView):!1)}previousClicked(e){this.isPreviousDisabled||this.previous.emit(e)}nextClicked(e){this.isNextDisabled||this.next.emit(e)}static{this.\u0275fac=function(i){return new(i||si)}}static{this.\u0275cmp=ee({type:si,selectors:[["odx-calendar-header"]],inputs:{activeDate:"activeDate",calendarView:"calendarView",minDate:"minDate",maxDate:"maxDate"},outputs:{previous:"previous",next:"next",changeView:"changeView"},features:[qe],ngContentSelectors:Ar,decls:7,vars:2,consts:[["odxButton","",3,"click","disabled"],["name","chevron-left"],["odxButton","",1,"odx-calendar-header__title",3,"click"],["name","chevron-right"]],template:function(i,a){i&1&&(ft(),p(0,"odx-action-group")(1,"button",0),O("click",function(s){return a.previousClicked(s)}),H(2,"odx-icon",1),m(),p(3,"button",2),O("click",function(){return a.changeView.emit()}),Ke(4),m(),p(5,"button",0),O("click",function(s){return a.nextClicked(s)}),H(6,"odx-icon",3),m()()),i&2&&(u(),A("disabled",a.isPreviousDisabled),u(4),A("disabled",a.isNextDisabled))},dependencies:[re,ae,wt,Be,xt],encapsulation:2,changeDetection:0})}};return t=Y([ne("calendar-header")],t),t})(),at=(()=>{class t{constructor(){this.localizationService=E(vn),this.windowRef=E(on),this.cdr=E($i),this.lastValue=null,this.lastFormatOptions=null,this.formattedValue=""}transform(e,i){return e?e===this.lastValue&&tn(i,this.lastFormatOptions)?this.formattedValue:(this.formattedValue=this.windowRef.nativeWindow.Intl.DateTimeFormat(this.localizationService.getActiveLanguage(),i).format(e),this.lastValue=e,this.lastFormatOptions=i,this.cdr.markForCheck(),this.formattedValue):""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=mt({name:"odxDateLabel",type:t,pure:!1})}}return t})();function _a(t,n,e,i){let{start:a,end:r}=n.dateRange;if(e!==T.Month||n.selectionState!==i||a&&r&&!ka(a,r))return{isRangeStart:!1,isRangeEnd:!1,isInRange:!1};let s=a?bt(t,a):!1,d=r?bt(t,r):!1;return{isRangeStart:s,isRangeEnd:d,isInRange:d||s||ss(t,{start:a,end:r})}}function ss(t,n){let{start:e,end:i}=n;return!e||!i?!1:ha(t,{start:e,end:i})}var ci=(()=>{let t=class oi{constructor(){this.disabledController=ae.inject(),this.eventManager=E(Zt),this.calendarService=E(Pe),this.registeredEventId="",this.config=rt(),this.dateLabelPipe=E(at),this.isActive=!1,this.isSelected=!1,this.isHidden=!1,this.ariaLabel="",this.isCurrent=!1,this.adjacent=!1,this.isInRange=!1,this.isRangeStart=!1,this.isRangeEnd=!1,this.isInPreviewRange=!1,this.isPreviewRangeStart=!1,this.isPreviewRangeEnd=!1,this.element=Ee(),this.activeDate=null,this.selectedDate=null,this.selectedDateRange=null,this.previewDate=null}get isDisabled(){return!!this.disabledController?.disabled}ngOnChanges(e){if(ue(e,["date","calendarView"],!1)&&(this.ariaLabel=this.dateLabelPipe.transform(this.date,Qr(this.calendarView)),this.isCurrent=Ot(this.date,new Date,this.calendarView)),this.activeDate&&ue(e,["date","activeDate"],!1)&&(this.isActive=Ot(this.date,this.activeDate,this.calendarView),this.calendarView===T.Month&&(this.adjacent=!ni(this.date,this.activeDate),this.isHidden=this.adjacent&&!this.config.displayAdjacentDays)),this.selectedDate&&ue(e,["date","selectedDate"],!1)&&(this.isSelected=Ot(this.date,this.selectedDate,this.calendarView)),this.config.selectionMode===je.DateRange&&this.selectedDateRange&&ue(e,["date","selectedDateRange"],!1)){let i=this.selectedDateRange.dateRange.start;this.isSelected=Ot(this.date,i||new Date,this.calendarView);let a=_a(this.date,this.selectedDateRange,this.calendarView,ke.EndSelected);this.isRangeStart=a.isRangeStart,this.isRangeEnd=a.isRangeEnd,this.isInRange=a.isInRange}if(this.config.selectionMode===je.DateRange&&this.previewDate&&this.selectedDateRange&&ue(e,["date","selectedDateRange","previewDate"])){let i={selectionState:this.selectedDateRange.selectionState,dateRange:{start:this.selectedDateRange.dateRange.start,end:this.previewDate}},a=_a(this.date,i,this.calendarView,ke.StartSelected);this.isPreviewRangeStart=a.isRangeStart,this.isPreviewRangeEnd=a.isRangeEnd,this.isInPreviewRange=a.isInRange}this.isActive&&Le(()=>this.element.nativeElement.focus())}ngOnInit(){this.config.selectionMode===je.DateRange&&this.calendarView===T.Month&&this.registerEvents()}ngOnDestroy(){this.eventManager.destroyListener(this.registeredEventId)}registerEvents(){this.registeredEventId=this.eventManager.register(["mouseover"],e=>{e?.preventDefault(),e?.stopPropagation(),this.calendarService.setHoveredDate(this.date)},this.element.nativeElement)[0]}static{this.\u0275fac=function(i){return new(i||oi)}}static{this.\u0275dir=$e({type:oi,selectors:[["","odxCalendarCell",""]],hostVars:11,hostBindings:function(i,a){i&2&&(Oi("tabindex",a.isActive?0:-1),ve("hidden",a.isHidden||null)("aria-label",a.ariaLabel)("aria-disabled",a.isDisabled)("type","button"),Ai("is-disabled",a.isDisabled)("is-selected",a.isSelected)("is-in-any-range",a.isInRange||a.isInPreviewRange))},inputs:{date:[0,"odxCalendarCell","date"],calendarView:[0,"odxCalendarCellCalendarView","calendarView"],activeDate:[0,"odxCalendarCellActiveDate","activeDate"],selectedDate:[0,"odxCalendarCellSelectedDate","selectedDate"],selectedDateRange:[0,"odxCalendarCellSelectedDateRange","selectedDateRange"],previewDate:[0,"odxCalendarCellPreviewDate","previewDate"]},features:[de([ae.connect(),at]),qe]})}};return Y([he(),W("design:type",Object)],t.prototype,"isCurrent",void 0),Y([he(),W("design:type",Object)],t.prototype,"adjacent",void 0),Y([he(),W("design:type",Object)],t.prototype,"isInRange",void 0),Y([he(),W("design:type",Object)],t.prototype,"isRangeStart",void 0),Y([he(),W("design:type",Object)],t.prototype,"isRangeEnd",void 0),Y([he(),W("design:type",Object)],t.prototype,"isInPreviewRange",void 0),Y([he(),W("design:type",Object)],t.prototype,"isPreviewRangeStart",void 0),Y([he(),W("design:type",Object)],t.prototype,"isPreviewRangeEnd",void 0),t=Y([ne("calendar-cell")],t),t})(),di=(()=>{class t{constructor(){this.takeUntilDestroyed=vt(),this.calendar=E(Pe),this.config=rt(),this.element=Ee(),this.selectedDate=null,this.selectedDateRange=null,this.previewDate=null,this.minDate=null,this.maxDate=null,this.filterFn=null}isDateDisabled(e){return ts(e,this.currentView,this.minDate,this.maxDate,this.filterFn)}changeView(){this.calendar.changeView(this.nextView)}updateActiveDate(e,i){e.preventDefault(),e.stopPropagation(),this.calendar.setActiveDate(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=$e({type:t,inputs:{activeDate:"activeDate",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",previewDate:"previewDate",minDate:"minDate",maxDate:"maxDate",filterFn:"filterFn"}})}}return t})(),ga=(()=>{class t{constructor(){this.calendar=E(Pe),this.weekDays$=this.calendar.activeDate$.pipe(Z(e=>this.generateWeekDays(e))),this.weeks$=this.calendar.activeDate$.pipe(Z(e=>this.generateWeeks(e)))}generateWeekDays(e){let i=G(e,{weekStartsOn:1});return Array.from({length:7},(a,r)=>pe(i,r))}generateWeeks(e){let i=it(e),a=tt(e),r=G(i,{weekStartsOn:1}),s=Bn(a),d=[],o=r;for(;o<=s;)d.push(this.generateDaysForWeek(o,e)),o=pe(o,7);return d}generateDaysForWeek(e,i){return Array.from({length:7}).map((a,r)=>pe(e,r),i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Sa=(()=>{class t{constructor(){this.config=rt(),this.calendar=E(Pe),this.seasons$=this.calendar.activeDate$.pipe(Z(e=>this.generateSeasons(e)))}generateSeasons(e){let{itemsPerRow:i}=this.config.yearView,a=[],r=Ln({start:me(e),end:nt(e)}),s=0;for(;s<r.length;)a.push(r.slice(s,s+i)),s+=i;return a}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Ca=(()=>{class t{constructor(){this.config=rt(),this.years$=ki(()=>vi(this.generateYears()))}generateYears(){let{itemsPerRow:e,padding:i}=this.config.yearsView,a=Date.now(),r=me(Jt(a,-i)),s=Rt(r),d=me(Jt(a,i)),o=Rt(d),h=[],f=[];for(let N=s;N<=o;N++)h.push(ai(r,N));let _=0;for(;_<h.length;)f.push(h.slice(_,_+e)),_+=e;return f}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),os=(()=>{let t=class Nt extends di{constructor(){super(...arguments),this.calendarMonth=E(ga),this.nextView=T.Years,this.currentView=T.Month}previousDay(e){this.updateActiveDate(e,ua(this.activeDate,1))}nextDay(e){this.updateActiveDate(e,pe(this.activeDate,1))}previousWeek(e){this.updateActiveDate(e,ma(this.activeDate,1))}nextWeek(e){this.updateActiveDate(e,Et(this.activeDate,1))}previousMonth(e){this.updateActiveDate(e,_e(this.activeDate,1))}nextMonth(e){this.updateActiveDate(e,U(this.activeDate,1))}selectDate(e){this.isDateDisabled(e)||this.calendar.selectDate(e,{emitOutside:!0})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Ce(Nt)))(a||Nt)}})()}static{this.\u0275cmp=ee({type:Nt,selectors:[["odx-calendar-month"]],features:[de([ga]),we],decls:15,vars:13,consts:[["role","grid","aria-describedby","odx-calendar",1,"odx-calendar__table"],["colspan","7"],[3,"previous","next","changeView","calendarView","activeDate","minDate","maxDate"],[1,"odx-calendar__weekdays"],[1,"odx-calendar__body",3,"keydown.ArrowLeft","keydown.ArrowRight","keydown.ArrowUp","keydown.ArrowDown","keydown.PageUp","keydown.PageDown"],["role","gridcell"],[3,"click","disabled","odxCalendarCell","odxCalendarCellActiveDate","odxCalendarCellCalendarView","odxCalendarCellSelectedDate","odxCalendarCellSelectedDateRange","odxCalendarCellPreviewDate"]],template:function(i,a){i&1&&(p(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"odx-calendar-header",2),O("previous",function(s){return a.previousMonth(s)})("next",function(s){return a.nextMonth(s)})("changeView",function(){return a.changeView()}),g(5),v(6,"odxDateLabel"),m()()(),p(7,"tr",3),te(8,Yr,3,5,"td",null,De),v(10,"async"),m()(),p(11,"tbody",4),O("keydown.ArrowLeft",function(s){return a.previousDay(s)})("keydown.ArrowRight",function(s){return a.nextDay(s)})("keydown.ArrowUp",function(s){return a.previousWeek(s)})("keydown.ArrowDown",function(s){return a.nextWeek(s)})("keydown.PageUp",function(s){return a.previousMonth(s)})("keydown.PageDown",function(s){return a.nextMonth(s)}),te(12,$r,3,0,"tr",null,De),v(14,"async"),m()()),i&2&&(u(4),A("calendarView",a.currentView)("activeDate",a.activeDate)("minDate",a.minDate)("maxDate",a.maxDate),u(),Q(" ",Me(6,5,a.activeDate,Te(12,Or))," "),u(3),ie(x(10,8,a.calendarMonth.weekDays$)),u(4),ie(x(14,10,a.calendarMonth.weeks$)))},dependencies:[re,Xe,ae,ci,ya,at],encapsulation:2,changeDetection:0})}};return t=Y([ne("calendar-month")],t),t})(),ls=(()=>{let t=class Vt extends di{constructor(){super(...arguments),this.calendarYear=E(Sa),this.nextView=T.Month,this.currentView=T.Year}previousMonth(e){this.updateActiveDate(e,_e(this.activeDate,1))}nextMonth(e){this.updateActiveDate(e,U(this.activeDate,1))}previousSeason(e){this.updateActiveDate(e,_e(this.activeDate,3))}nextSeason(e){this.updateActiveDate(e,U(this.activeDate,3))}previousYear(e){this.updateActiveDate(e,_e(this.activeDate,12))}nextYear(e){this.updateActiveDate(e,U(this.activeDate,12))}selectDate(e){if(this.isDateDisabled(e))return;let i=pa(this.activeDate,la(e));this.calendar.selectDate(i,{skipDaterangeUpdate:!0}),this.changeView()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Ce(Vt)))(a||Vt)}})()}static{this.\u0275cmp=ee({type:Vt,selectors:[["odx-calendar-year"]],features:[de([Sa]),we],decls:11,vars:11,consts:[["role","grid","aria-describedby","odx-calendar",1,"odx-calendar__table"],["colspan","3"],[3,"previous","next","changeView","calendarView","activeDate","minDate","maxDate"],[1,"odx-calendar__body",3,"keydown.ArrowLeft","keydown.ArrowRight","keydown.ArrowUp","keydown.ArrowDown","keydown.PageDown","keydown.PageUp"],[1,"odx-calendar__season"],["role","gridcell"],[3,"click","disabled","odxCalendarCell","odxCalendarCellActiveDate","odxCalendarCellCalendarView","odxCalendarCellSelectedDate","odxCalendarCellSelectedDateRange"]],template:function(i,a){i&1&&(p(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"odx-calendar-header",2),O("previous",function(s){return a.previousYear(s)})("next",function(s){return a.nextYear(s)})("changeView",function(){return a.changeView()}),g(5),v(6,"odxDateLabel"),m()()()(),p(7,"tbody",3),O("keydown.ArrowLeft",function(s){return a.previousMonth(s)})("keydown.ArrowRight",function(s){return a.nextMonth(s)})("keydown.ArrowUp",function(s){return a.previousSeason(s)})("keydown.ArrowDown",function(s){return a.nextSeason(s)})("keydown.PageDown",function(s){return a.nextYear(s)})("keydown.PageUp",function(s){return a.previousYear(s)}),te(8,Hr,3,0,"tr",4,De),v(10,"async"),m()()),i&2&&(u(4),A("calendarView",a.currentView)("activeDate",a.activeDate)("minDate",a.minDate)("maxDate",a.maxDate),u(),Q(" ",Me(6,5,a.activeDate,Te(10,xa))," "),u(3),ie(x(10,8,a.calendarYear.seasons$)))},dependencies:[re,Xe,ae,ci,ya,at],encapsulation:2,changeDetection:0})}};return t=Y([ne("calendar-year")],t),t})(),cs=(()=>{let t=class Yt extends di{constructor(){super(...arguments),this.document=E(St),this.calendarYears=E(Ca),this.nextView=T.Year,this.currentView=T.Years}ngAfterViewInit(){Le(()=>this.scrollCurrentYearIntoView())}previousYear(e){this.updateActiveDate(e,_e(this.activeDate,12))}nextYear(e){this.updateActiveDate(e,U(this.activeDate,12))}previousRow(e){this.updateActiveDate(e,_e(this.activeDate,36))}nextRow(e){this.updateActiveDate(e,U(this.activeDate,36))}selectDate(e){if(this.isDateDisabled(e))return;let i=ai(this.activeDate,Rt(e));this.calendar.selectDate(i,{skipDaterangeUpdate:!0}),this.changeView()}scrollCurrentYearIntoView(){let e=this.document.querySelector(".odx-calendar-cell.is-selected"),i=this.document.querySelector(".odx-calendar-cell--is-current"),a=e||i;a&&an(a.scrollIntoView)&&a.scrollIntoView({block:"center",behavior:"smooth"})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Ce(Yt)))(a||Yt)}})()}static{this.\u0275cmp=ee({type:Yt,selectors:[["odx-calendar-years"]],features:[de([Ca]),we],decls:7,vars:2,consts:[["role","grid","aria-describedby","odx-calendar",1,"odx-calendar__table"],["aria-hidden","true"],[1,"odx-calendar__body",3,"keydown.ArrowLeft","keydown.ArrowRight","keydown.ArrowUp","keydown.ArrowDown"],[1,"odx-calendar__year-row"],["role","gridcell"],[3,"click","disabled","odxCalendarCell","odxCalendarCellActiveDate","odxCalendarCellCalendarView","odxCalendarCellSelectedDate","odxCalendarCellSelectedDateRange"]],template:function(i,a){i&1&&(p(0,"table",0)(1,"thead",1),H(2,"th"),m(),p(3,"tbody",2),O("keydown.ArrowLeft",function(s){return a.previousYear(s)})("keydown.ArrowRight",function(s){return a.nextYear(s)})("keydown.ArrowUp",function(s){return a.previousRow(s)})("keydown.ArrowDown",function(s){return a.nextRow(s)}),te(4,Wr,3,0,"tr",3,De),v(6,"async"),m()()),i&2&&(u(4),ie(x(6,0,a.calendarYears.years$)))},dependencies:[re,Xe,ae,ci,at],encapsulation:2,changeDetection:0})}};return t=Y([ne("calendar-years")],t),t})(),va=(()=>{class t{constructor(){this.calendar=E(Pe),this.dateRangeState$$=new Oe({selectionState:ke.NothingSelected,dateRange:{start:null,end:null}}),this.outputDateRange$=new z,this.dateRangeState$=this.calendar.dateSelectEvents$.pipe(dt(e=>!!e.date),Ti(this.dateRangeState$$),Z(([e,i])=>{let a=e.date,r=i.dateRange.start,s={selectionState:ke.NothingSelected,dateRange:{start:null,end:null}};return e.options.skipDaterangeUpdate?i:(r&&a&&i.selectionState===ke.StartSelected&&ka(r,a)?(s.dateRange={start:r,end:a},s.selectionState=ke.EndSelected):(s.dateRange={start:a,end:null},s.selectionState=ke.StartSelected),this.dateRangeState$$.next(s),e.options?.emitOutside&&this.outputDateRange$.next(s.dateRange),s)}),Ne((e,i)=>JSON.stringify(e)===JSON.stringify(i)),Ve({refCount:!0}))}setDateRange(e){Le(()=>{this.calendar.selectDate(e.start),this.calendar.selectDate(e.end),this.calendar.setActiveDate(e.start)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),wa=(()=>{let t=class li{constructor(){this.config=rt(),this.calendar=E(Pe),this.daterange=E(va),this.CalendarView=T,this.vm$=xi({activeDate:this.calendar.activeDate$,calendarView:this.calendar.calendarView$,selectedDate:this.calendar.selectedDate$,selectedDateRange:this.daterange.dateRangeState$,previewDate:this.calendar.previewDate$}),this.element=Ee(),this.selectedDate=null,this.selectedDateRange=null,this.minDate=null,this.maxDate=null,this.filterFn=null,this.selectedDateChange=this.calendar.outputDate$,this.selectedDateRangeChange=this.daterange.outputDateRange$}ngOnChanges(e){ue(e,"selectedDate",!1)&&this.calendar.selectDate(this.selectedDate,{skipDaterangeUpdate:!0}),this.selectedDateRange&&ue(e,"selectedDateRange",!1)&&this.config.selectionMode===je.DateRange&&this.daterange.setDateRange(this.selectedDateRange)}static{this.\u0275fac=function(i){return new(i||li)}}static{this.\u0275cmp=ee({type:li,selectors:[["odx-calendar"]],inputs:{selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",minDate:"minDate",maxDate:"maxDate",filterFn:"filterFn"},outputs:{selectedDateChange:"selectedDateChange",selectedDateRangeChange:"selectedDateRangeChange"},features:[de([Pe,Zt,va]),qe],decls:2,vars:3,consts:[[3,"activeDate","selectedDate","selectedDateRange","minDate","maxDate","filterFn"],[3,"activeDate","selectedDate","selectedDateRange","previewDate","minDate","maxDate","filterFn"]],template:function(i,a){if(i&1&&(y(0,qr,3,1),v(1,"async")),i&2){let r;Qe((r=x(1,1,a.vm$))?0:-1,r)}},dependencies:[re,Xe,kt,os,ls,cs],encapsulation:2,changeDetection:0})}};return t=Y([ne("calendar"),W("design:paramtypes",[])],t),t})();var l=function(t){return t.SEPARATOR="separator",t.PERCENT="percent",t.IP="IP",t.CPF_CNPJ="CPF_CNPJ",t.MONTH="M",t.MONTHS="M0",t.MINUTE="m",t.HOUR="h",t.HOURS="H",t.MINUTES="m0",t.HOURS_HOUR="Hh",t.SECONDS="s0",t.HOURS_MINUTES_SECONDS="Hh:m0:s0",t.EMAIL_MASK="A*@A*.A*",t.HOURS_MINUTES="Hh:m0",t.MINUTES_SECONDS="m0:s0",t.DAYS_MONTHS_YEARS="d0/M0/0000",t.DAYS_MONTHS="d0/M0",t.DAYS="d0",t.DAY="d",t.SECOND="s",t.LETTER_S="S",t.DOT=".",t.COMMA=",",t.CURLY_BRACKETS_LEFT="{",t.CURLY_BRACKETS_RIGHT="}",t.MINUS="-",t.OR="||",t.HASH="#",t.EMPTY_STRING="",t.SYMBOL_STAR="*",t.SYMBOL_QUESTION="?",t.SLASH="/",t.WHITE_SPACE=" ",t.NUMBER_ZERO="0",t.NUMBER_NINE="9",t.BACKSPACE="Backspace",t.DELETE="Delete",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.DOUBLE_ZERO="00",t}(l||{}),$t=new ut("ngx-mask config"),Ta=new ut("new ngx-mask config"),Ma=new ut("initial ngx-mask config"),ds={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:t=>t,outputTransformFn:t=>t,maskFilled:new z,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},mh=[l.HOURS_MINUTES_SECONDS,l.HOURS_MINUTES,l.MINUTES_SECONDS],fh=[l.PERCENT,l.HOURS_HOUR,l.SECONDS,l.MINUTES,l.SEPARATOR,l.DAYS_MONTHS_YEARS,l.DAYS_MONTHS,l.DAYS,l.MONTHS],hs=(()=>{class t{_config=E($t);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(e,i,a=0,r=!1,s=!1,d=()=>{}){if(!i||typeof e!="string")return l.EMPTY_STRING;let o=0,h="",f=!1,_=!1,N=1,L=!1,c=e,k=a;c.slice(0,this.prefix.length)===this.prefix&&(c=c.slice(this.prefix.length,c.length)),this.suffix&&c.length>0&&(c=this.checkAndRemoveSuffix(c)),c==="("&&this.prefix&&(c="");let K=c.toString().split(l.EMPTY_STRING);if(this.allowNegativeNumbers&&c.slice(o,o+1)===l.MINUS&&(h+=c.slice(o,o+1)),i===l.IP){let M=c.split(l.DOT);this.ipError=this._validIP(M),i="099.099.099.099"}let X=[];for(let M=0;M<c.length;M++)c[M]?.match("\\d")&&X.push(c[M]??l.EMPTY_STRING);if(i===l.CPF_CNPJ&&(this.cpfCnpjError=X.length!==11&&X.length!==14,X.length>11?i="00.000.000/0000-00":i="000.000.000-00"),i.startsWith(l.PERCENT)){if(c.match("[a-z]|[A-Z]")||c.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!s){c=this._stripToDecimal(c);let le=this.getPrecision(i);c=this.checkInputPrecision(c,le,this.decimalMarker)}let M=typeof this.decimalMarker=="string"?this.decimalMarker:l.DOT;if(c.indexOf(M)>0&&!this.percentage(c.substring(0,c.indexOf(M)))){let le=c.substring(0,c.indexOf(M)-1);this.allowNegativeNumbers&&c.slice(o,o+1)===l.MINUS&&!s&&(le=c.substring(0,c.indexOf(M))),c=`${le}${c.substring(c.indexOf(M),c.length)}`}let D="";this.allowNegativeNumbers&&c.slice(o,o+1)===l.MINUS?D=`${l.MINUS}${c.slice(o+1,o+c.length)}`:D=c,this.percentage(D)?h=this._splitPercentZero(c):h=this._splitPercentZero(c.substring(0,c.length-1))}else if(i.startsWith(l.SEPARATOR)){(c.match("[w\u0430-\u044F\u0410-\u042F]")||c.match("[\u0401\u0451\u0410-\u044F]")||c.match("[a-z]|[A-Z]")||c.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||c.match("[^A-Za-z0-9,]"))&&(c=this._stripToDecimal(c));let M=this.getPrecision(i),D=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?D=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:D=this.decimalMarker.find(R=>R!==this.thousandSeparator)),s){let{decimalMarkerIndex:R,nonZeroIndex:V}=this._findFirstNonZeroAndDecimalIndex(c,D),ce=c[0]===l.MINUS,ot=c[0]===l.NUMBER_ZERO,lt=c[0]===D,Ze=c[1]===D;(lt&&!V||ce&&Ze&&!V||ot&&!R&&!V)&&(c=l.NUMBER_ZERO),R&&V&&ce&&k===1&&(R<V||R>V)&&(c=l.MINUS+c.slice(V)),!R&&V&&c.length>V&&(c=ce?l.MINUS+c.slice(V):c.slice(V)),R&&V&&k===0&&(R<V&&(c=c.slice(R-1)),R>V&&(c=c.slice(V)))}M===0?c=this.allowNegativeNumbers?c.length>2&&c[0]===l.MINUS&&c[1]===l.NUMBER_ZERO&&c[2]!==this.thousandSeparator&&c[2]!==l.COMMA&&c[2]!==l.DOT?"-"+c.slice(2,c.length):c[0]===l.NUMBER_ZERO&&c.length>1&&c[1]!==this.thousandSeparator&&c[1]!==l.COMMA&&c[1]!==l.DOT?c.slice(1,c.length):c:c.length>1&&c[0]===l.NUMBER_ZERO&&c[1]!==this.thousandSeparator&&c[1]!==l.COMMA&&c[1]!==l.DOT?c.slice(1,c.length):c:(c[0]===D&&c.length>1&&!s&&(c=l.NUMBER_ZERO+c.slice(0,c.length+1),this.plusOnePosition=!0),c[0]===l.NUMBER_ZERO&&c[1]!==D&&c[1]!==this.thousandSeparator&&!s&&(c=c.length>1?c.slice(0,1)+D+c.slice(1,c.length+1):c,this.plusOnePosition=!0),this.allowNegativeNumbers&&!s&&c[0]===l.MINUS&&(c[1]===D||c[1]===l.NUMBER_ZERO)&&(c=c[1]===D&&c.length>2?c.slice(0,1)+l.NUMBER_ZERO+c.slice(1,c.length):c[1]===l.NUMBER_ZERO&&c.length>2&&c[2]!==D?c.slice(0,2)+D+c.slice(2,c.length):c,this.plusOnePosition=!0));let le=this._charToRegExpExpression(this.thousandSeparator),B='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(le,"");if(Array.isArray(this.decimalMarker))for(let R of this.decimalMarker)B=B.replace(this._charToRegExpExpression(R),l.EMPTY_STRING);else B=B.replace(this._charToRegExpExpression(this.decimalMarker),"");let Ae=new RegExp("["+B+"]");c.match(Ae)&&(c=c.substring(0,c.length-1)),c=this.checkInputPrecision(c,M,this.decimalMarker);let ye=c.replace(new RegExp(le,"g"),"");h=this._formatWithSeparators(ye,this.thousandSeparator,this.decimalMarker,M);let Wt=h.indexOf(l.COMMA)-c.indexOf(l.COMMA),J=h.length-c.length,st=s&&h.length<e.length&&this.separatorLimit;if((h[k-1]===this.thousandSeparator||h[k-this.prefix.length])&&this.prefix&&s)k=k-1;else if(J>0&&h[k]!==this.thousandSeparator||st){_=!0;let R=0;do this._shift.add(k+R),R++;while(R<J)}else h[k-1]===this.thousandSeparator||J===-4||J===-3||h[k]===this.thousandSeparator?(this._shift.clear(),this._shift.add(k-1)):Wt!==0&&k>0&&!(h.indexOf(l.COMMA)>=k&&k>3)||!(h.indexOf(l.DOT)>=k&&k>3)&&J<=0?(this._shift.clear(),_=!0,N=J,k+=J,this._shift.add(k)):this._shift.clear()}else for(let M=0,D=K[0];M<K.length&&o!==i.length;M++,D=K[M]??l.EMPTY_STRING){let le=l.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(D,i[o]??l.EMPTY_STRING)&&i[o+1]===l.SYMBOL_QUESTION)h+=D,o+=2;else if(i[o+1]===l.SYMBOL_STAR&&f&&this._checkSymbolMask(D,i[o+2]??l.EMPTY_STRING))h+=D,o+=3,f=!1;else if(this._checkSymbolMask(D,i[o]??l.EMPTY_STRING)&&i[o+1]===l.SYMBOL_STAR&&!le)h+=D,f=!0;else if(i[o+1]===l.SYMBOL_QUESTION&&this._checkSymbolMask(D,i[o+2]??l.EMPTY_STRING))h+=D,o+=3;else if(this._checkSymbolMask(D,i[o]??l.EMPTY_STRING)){if(i[o]===l.HOURS&&(this.apm?Number(D)>9:Number(D)>2)){k=this.leadZeroDateTime?k:k+1,o+=1,this._shiftStep(o),M--,this.leadZeroDateTime&&(h+="0");continue}if(i[o]===l.HOUR&&(this.apm?h.length===1&&Number(h)>1||h==="1"&&Number(D)>2||c.slice(o-1,o).length===1&&Number(c.slice(o-1,o))>2||c.slice(o-1,o)==="1"&&Number(D)>2:h==="2"&&Number(D)>3||(h.slice(o-2,o)==="2"||h.slice(o-3,o)==="2"||h.slice(o-4,o)==="2"||h.slice(o-1,o)==="2")&&Number(D)>3&&o>10)){k=k+1,o+=1,M--;continue}if((i[o]===l.MINUTE||i[o]===l.SECOND)&&Number(D)>5){k=this.leadZeroDateTime?k:k+1,o+=1,this._shiftStep(o),M--,this.leadZeroDateTime&&(h+="0");continue}let B=31,Ae=c[o],ye=c[o+1],Wt=c[o+2],J=c[o-1],st=c[o-2],R=c.slice(o-3,o-1),V=c.slice(o-1,o+1),ce=c.slice(o,o+2),ot=c.slice(o-2,o);if(i[o]===l.DAY){let lt=i.slice(0,2)===l.MONTHS,Ze=i.slice(0,2)===l.MONTHS&&this.specialCharacters.includes(st);if(Number(D)>3&&this.leadZeroDateTime||!lt&&(Number(ce)>B||Number(V)>B||this.specialCharacters.includes(ye))||(Ze?Number(V)>B||!this.specialCharacters.includes(Ae)&&this.specialCharacters.includes(Wt)||this.specialCharacters.includes(Ae):Number(ce)>B||this.specialCharacters.includes(ye)&&!s)){k=this.leadZeroDateTime?k:k+1,o+=1,this._shiftStep(o),M--,this.leadZeroDateTime&&(h+="0");continue}}if(i[o]===l.MONTH){let Ze=o===0&&(Number(D)>2||Number(ce)>12||this.specialCharacters.includes(ye)&&!s),Ya=i.slice(o+2,o+3),Fa=R.includes(Ya)&&i.includes("d0")&&(this.specialCharacters.includes(st)&&Number(V)>12&&!this.specialCharacters.includes(Ae)||this.specialCharacters.includes(Ae)),$a=Number(R)<=B&&!this.specialCharacters.includes(R)&&this.specialCharacters.includes(J)&&(Number(ce)>12||this.specialCharacters.includes(ye)),La=Number(ce)>12&&o===5||this.specialCharacters.includes(ye)&&o===5,Ba=Number(R)>B&&!this.specialCharacters.includes(R)&&!this.specialCharacters.includes(ot)&&Number(ot)>12&&i.includes("d0"),Ha=Number(R)<=B&&!this.specialCharacters.includes(R)&&!this.specialCharacters.includes(J)&&Number(V)>12;if(Number(D)>1&&this.leadZeroDateTime||Ze||Fa||Ha||Ba||$a||La&&!this.leadZeroDateTime){k=this.leadZeroDateTime?k:k+1,o+=1,this._shiftStep(o),M--,this.leadZeroDateTime&&(h+="0");continue}}h+=D,o++}else this.specialCharacters.includes(D)&&i[o]===D?(h+=D,o++):this.specialCharacters.indexOf(i[o]??l.EMPTY_STRING)!==-1?(h+=i[o],o++,this._shiftStep(o),M--):i[o]===l.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(o):this.patterns[i[o]??l.EMPTY_STRING]&&this.patterns[i[o]??l.EMPTY_STRING]?.optional?(K[o]&&i!=="099.099.099.099"&&i!=="000.000.000-00"&&i!=="00.000.000/0000-00"&&!i.match(/^9+\.0+$/)&&!this.patterns[i[o]??l.EMPTY_STRING]?.optional&&(h+=K[o]),i.includes(l.NUMBER_NINE+l.SYMBOL_STAR)&&i.includes(l.NUMBER_ZERO+l.SYMBOL_STAR)&&o++,o++,M--):this.maskExpression[o+1]===l.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[o+2]??l.EMPTY_STRING)&&this._findSpecialChar(D)===this.maskExpression[o+2]&&f||this.maskExpression[o+1]===l.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[o+2]??l.EMPTY_STRING)&&this._findSpecialChar(D)===this.maskExpression[o+2]&&f?(o+=3,h+=D):this.showMaskTyped&&this.specialCharacters.indexOf(D)<0&&D!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(L=!0)}h[k-1]&&h.length+1===i.length&&this.specialCharacters.indexOf(i[i.length-1]??l.EMPTY_STRING)!==-1&&(h+=i[i.length-1]);let fi=k+1;for(;this._shift.has(fi);)N++,fi++;let _i=r&&!i.startsWith(l.SEPARATOR)?o:this._shift.has(k)?N:0;L&&_i--,d(_i,_),N<0&&this._shift.clear();let gi=!1;s&&(gi=K.every(M=>this.specialCharacters.includes(M)));let Ut=`${this.prefix}${gi?l.EMPTY_STRING:h}${this.showMaskTyped?"":this.suffix}`;h.length===0&&(Ut=this.instantPrefix?`${this.prefix}${h}`:`${h}`);let Va=c.length===1&&this.specialCharacters.includes(i[0])&&c!==i[0];if(!this._checkSymbolMask(c,i[1])&&Va)return"";if(h.includes(l.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(s&&h===l.MINUS)return"";Ut=`${l.MINUS}${this.prefix}${h.split(l.MINUS).join(l.EMPTY_STRING)}${this.suffix}`}return Ut}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(i=>i===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(i=>i===e)}_checkSymbolMask(e,i){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[i]?.pattern&&this.patterns[i]?.pattern.test(e))??!1}_formatWithSeparators=(e,i,a,r)=>{let s=[],d="";if(Array.isArray(a)){let N=new RegExp(a.map(L=>"[\\^$.|?*+()".indexOf(L)>=0?`\\${L}`:L).join("|"));s=e.split(N),d=e.match(N)?.[0]??l.EMPTY_STRING}else s=e.split(a),d=a;let o=s.length>1?`${d}${s[1]}`:l.EMPTY_STRING,h=s[0]??l.EMPTY_STRING,f=this.separatorLimit.replace(/\s/g,l.EMPTY_STRING);f&&+f&&(h[0]===l.MINUS?h=`-${h.slice(1,h.length).slice(0,f.length)}`:h=h.slice(0,f.length));let _=/(\d+)(\d{3})/;for(;i&&_.test(h);)h=h.replace(_,"$1"+i+"$2");return typeof r>"u"?h+o:r===0?h:h+o.substring(0,r+1)};percentage=e=>{let i=e.replace(",","."),a=Number(this.allowNegativeNumbers&&e.includes(l.MINUS)?i.slice(1,e.length):i);return!isNaN(a)&&a>=0&&a<=100};getPrecision=e=>{let i=e.split(l.DOT);return i.length>1?Number(i[i.length-1]):1/0};checkAndRemoveSuffix=e=>{for(let i=this.suffix?.length-1;i>=0;i--){let a=this.suffix.substring(i,this.suffix?.length);if(e.includes(a)&&i!==this.suffix?.length-1&&(i-1<0||!e.includes(this.suffix.substring(i-1,this.suffix?.length))))return e.replace(a,l.EMPTY_STRING)}return e};checkInputPrecision=(e,i,a)=>{let r=e,s=a;if(i<1/0){if(Array.isArray(s)){let f=s.find(_=>_!==this.thousandSeparator);s=f||s[0]}let d=new RegExp(this._charToRegExpExpression(s)+`\\d{${i}}.*$`),o=r.match(d),h=(o&&o[0]?.length)??0;if(h-1>i){let f=h-1-i;r=r.substring(0,r.length-f)}i===0&&this._compareOrIncludes(r[r.length-1],s,this.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r};_stripToDecimal(e){return e.split(l.EMPTY_STRING).filter((i,a)=>{let r=typeof this.decimalMarker=="string"?i===this.decimalMarker:this.decimalMarker.includes(i);return i.match("^-?\\d")||i===this.thousandSeparator||r||i===l.MINUS&&a===0&&this.allowNegativeNumbers}).join(l.EMPTY_STRING)}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e){this._shift.add(e+this.prefix.length||0)}_compareOrIncludes(e,i,a){return Array.isArray(i)?i.filter(r=>r!==a).includes(e):e===i}_validIP(e){return!(e.length===4&&!e.some((i,a)=>e.length!==a+1?i===l.EMPTY_STRING||Number(i)>255:i===l.EMPTY_STRING||Number(i.substring(0,3))>255))}_splitPercentZero(e){if(e===l.MINUS&&this.allowNegativeNumbers)return e;let i=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf(l.DOT),a=this.allowNegativeNumbers&&e.includes(l.MINUS)?"-":"";if(i===-1){let r=parseInt(a?e.slice(1,e.length):e,10);return isNaN(r)?l.EMPTY_STRING:`${a}${r}`}else{let r=parseInt(e.replace("-","").substring(0,i),10),s=e.substring(i+1),d=isNaN(r)?"":r.toString(),o=typeof this.decimalMarker=="string"?this.decimalMarker:l.DOT;return d===l.EMPTY_STRING?l.EMPTY_STRING:`${a}${d}${o}${s}`}}_findFirstNonZeroAndDecimalIndex(e,i){let a=null,r=null;for(let s=0;s<e.length;s++){let d=e[s];if(d===i&&a===null&&(a=s),d&&d>="1"&&d<="9"&&r===null&&(r=s),a!==null&&r!==null)break}return{decimalMarkerIndex:a,nonZeroIndex:r}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Ea=(()=>{class t extends hs{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=e=>{};_elementRef=E(pt,{optional:!0});document=E(St);_config=E($t);_renderer=E(bi,{optional:!0});applyMask(e,i,a=0,r=!1,s=!1,d=()=>{}){if(!i)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():l.EMPTY_STRING,this.maskExpression===l.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||l.HASH)),this.maskExpression===l.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||l.HASH)),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let o=e&&typeof this.selStart=="number"?e[this.selStart]??l.EMPTY_STRING:l.EMPTY_STRING,h="",f=a;if((this.hiddenInput||e&&e.indexOf(l.SYMBOL_STAR)>=0)&&!this.writingValue){let c=e&&e.length===1?e.split(l.EMPTY_STRING):this.actualValue.split(l.EMPTY_STRING);s&&(c=c.slice(0,a).concat(c.slice(a+1))),this.showMaskTyped&&(e=this.removeMask(e),c=this.removeMask(c.join("")).split(l.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==l.EMPTY_STRING&&c.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>c.length?c.splice(this.selStart,0,o):e.length<c.length&&(c.length-e.length===1?s?c.splice(this.selStart-1,1):c.splice(e.length-1,1):c.splice(this.selStart,this.selEnd-this.selStart))):c=[],this.showMaskTyped&&!this.hiddenInput&&(h=this.removeMask(e)),this.actualValue.length?c.length<e.length?h=this.shiftTypedSymbols(c.join(l.EMPTY_STRING)):c.length===e.length?h=c.join(l.EMPTY_STRING):h=e:h=e}if(r&&(this.hiddenInput||!this.hiddenInput)&&(h=e),s&&this.specialCharacters.indexOf(this.maskExpression[f]??l.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(h=this.currentValue),this.deletedSpecialCharacter&&f&&(this.specialCharacters.includes(this.actualValue.slice(f,f+1))?f=f+1:i.slice(f-1,f+1)!==l.MONTHS&&(f=f-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(h=this.removeMask(h)),this.maskChanged?h=e:h=h&&h.length?h:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!r&&!this.writingValue){let c=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(c),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let _=super.applyMask(h,i,f,r,s,d);if(this.actualValue=this.getActualValue(_),this.thousandSeparator===l.DOT&&this.decimalMarker===l.DOT&&(this.decimalMarker=l.COMMA),this.maskExpression.startsWith(l.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(c=>!this._compareOrIncludes(c,this.decimalMarker,this.thousandSeparator))),(_||_==="")&&(this.previousValue=this.currentValue,this.currentValue=_,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&r),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(_)):this.formControlResult(_)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(_,this.maskExpression)}${this.maskIsShown.slice(_.length)}`:_;let N=_.length,L=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(l.HOURS)){let c=this._numberSkipedSymbols(_);return`${_}${L.slice(N+c)}`}else if(this.maskExpression===l.IP||this.maskExpression===l.CPF_CNPJ)return`${_}${L}`;return`${_}${L.slice(N)}`}_numberSkipedSymbols(e){let i=/(^|\D)(\d\D)/g,a=i.exec(e),r=0;for(;a!=null;)r+=1,a=i.exec(e);return r}applyValueChanges(e,i,a,r=()=>{}){let s=this._elementRef?.nativeElement;s&&(s.value=this.applyMask(s.value,this.maskExpression,e,i,a,r),s!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,i){return e.split(l.EMPTY_STRING).map((a,r)=>this.patterns&&this.patterns[i[r]??l.EMPTY_STRING]&&this.patterns[i[r]??l.EMPTY_STRING]?.symbol?this.patterns[i[r]??l.EMPTY_STRING]?.symbol:a).join(l.EMPTY_STRING)}getActualValue(e){let i=e.split(l.EMPTY_STRING).filter((a,r)=>{let s=this.maskExpression[r]??l.EMPTY_STRING;return this._checkSymbolMask(a,s)||this.specialCharacters.includes(s)&&a===s});return i.join(l.EMPTY_STRING)===e?i.join(l.EMPTY_STRING):e}shiftTypedSymbols(e){let i="";return(e&&e.split(l.EMPTY_STRING).map((r,s)=>{if(this.specialCharacters.includes(e[s+1]??l.EMPTY_STRING)&&e[s+1]!==this.maskExpression[s+1])return i=r,e[s+1];if(i.length){let d=i;return i=l.EMPTY_STRING,d}return r})||[]).join(l.EMPTY_STRING)}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith(l.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(l.SEPARATOR)&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${l.MINUS}/`,l.MINUS)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression===l.IP)return this._checkForIp(e);if(this.maskExpression===l.CPF_CNPJ)return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,l.EMPTY_STRING).length&&(this.formElementProperty=["value",l.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([e,i]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,i))}checkDropSpecialCharAmount(e){return e.split(l.EMPTY_STRING).filter(a=>this._findDropSpecialChar(a)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e===l.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let i=[];for(let a=0;a<e.length;a++){let r=e[a]??l.EMPTY_STRING;r&&r.match("\\d")&&i.push(r)}return i.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>3&&i.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>6&&i.length<=9?this.placeHolderCharacter:(i.length>9&&i.length<=12,"")}_checkForCpfCnpj(e){let i=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,a=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e===l.HASH)return i;let r=[];for(let s=0;s<e.length;s++){let d=e[s]??l.EMPTY_STRING;d&&d.match("\\d")&&r.push(d)}return r.length<=3?i.slice(r.length,i.length):r.length>3&&r.length<=6?i.slice(r.length+1,i.length):r.length>6&&r.length<=9?i.slice(r.length+2,i.length):r.length>9&&r.length<11?i.slice(r.length+3,i.length):r.length===11?"":r.length===12?e.length===17?a.slice(16,a.length):a.slice(15,a.length):r.length>12&&r.length<=14?a.slice(r.length+4,a.length):""}_getActiveElement(e=this.document){let i=e?.activeElement?.shadowRoot;return i?.activeElement?this._getActiveElement(i):e.activeElement}formControlResult(e){if(this.writingValue&&!e){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===l.EMPTY_STRING||this.maskExpression.startsWith(l.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>14&&this.maskExpression.startsWith(l.SEPARATOR))return String(e);let i=Number(e);if(this.maskExpression.startsWith(l.SEPARATOR)&&Number.isNaN(i)){let a=String(e).replace(",",".");return Number(a)}return Number.isNaN(i)?e:i}_removeMask(e,i){return this.maskExpression.startsWith(l.PERCENT)&&e.includes(l.DOT)?e:e&&e.replace(this._regExpForRemove(i),l.EMPTY_STRING)}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,l.EMPTY_STRING):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,l.EMPTY_STRING):e}_retrieveSeparatorValue(e){let i=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(a=>this.dropSpecialCharacters.includes(a)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(l.WHITE_SPACE)&&this.maskExpression.includes(l.SYMBOL_STAR)&&(i=i.filter(a=>a!==l.WHITE_SPACE)),this._removeMask(e,i)}_regExpForRemove(e){return new RegExp(e.map(i=>`\\${i}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let i=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(i),l.DOT)}_checkSymbols(e){let i=e;if(i===l.EMPTY_STRING)return i;this.maskExpression.startsWith(l.PERCENT)&&this.decimalMarker===l.COMMA&&(i=i.replace(l.COMMA,l.DOT));let a=this._retrieveSeparatorPrecision(this.maskExpression),r=this.specialCharacters.length===0?this._retrieveSeparatorValue(i):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(i));return this.isNumberValue&&a?i===this.decimalMarker?null:r.length>14?String(r):this._checkPrecision(this.maskExpression,r):r}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let i=this.patterns[e]?.pattern.toString(),a=this.patterns[e]?.pattern;if(i?.includes(l.WHITE_SPACE)&&a?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let i=e.match(new RegExp("^separator\\.([^d]*)"));return i?Number(i[1]):null}_checkPrecision(e,i){let a=this.getPrecision(e),r=i;return e.indexOf("2")>0||this.leadZero&&Number(a)>0?(this.decimalMarker===l.COMMA&&this.leadZero&&(r=r.replace(",",".")),this.leadZero?Number(r).toFixed(Number(a)):Number(r).toFixed(2)):this.numberToString(r)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split(l.EMPTY_STRING).reduce((i,a,r)=>{if(this._start=a===l.CURLY_BRACKETS_LEFT?r:this._start,a!==l.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(a)?i+a:i;this._end=r;let s=Number(e.slice(this._start+1,this._end)),d=new Array(s+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes(l.LETTER_S)){let o=e.slice(0,this._start-1);return o.includes(l.CURLY_BRACKETS_LEFT)?i+d:o+i+d}else return i+d},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Ce(t)))(a||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function us(){let t=E(Ma),n=E(Ta);return n instanceof Function?$($({},t),n()):$($({},t),n)}function ba(t){return[{provide:Ta,useValue:t},{provide:Ma,useValue:ds},{provide:$t,useFactory:us},Ea]}var hi=(()=>{class t{defaultOptions=E($t);_maskService=E(Ea);_maskExpressionArray=Fe([]);_mask=Fe("");transform(e,i,s={}){var d=s,{patterns:a}=d,r=Si(d,["patterns"]);let o=e,h=ct($($({maskExpression:i},this.defaultOptions),r),{patterns:$($({},this._maskService.patterns),a)});if(Object.entries(h).forEach(([f,_])=>{this._maskService[f]=_}),i.includes("||")){let f=i.split("||");return f.length>1?(this._maskExpressionArray.set(f.sort((_,N)=>_.length-N.length)),this._setMask(o),this._maskService.applyMask(`${o}`,this._mask())):(this._maskExpressionArray.set([]),this._maskService.applyMask(`${o}`,this._mask()))}if(i.includes(l.CURLY_BRACKETS_LEFT))return this._maskService.applyMask(`${o}`,this._maskService._repeatPatternSymbols(i));if(i.startsWith(l.SEPARATOR)){r.decimalMarker&&(this._maskService.decimalMarker=r.decimalMarker),r.thousandSeparator&&(this._maskService.thousandSeparator=r.thousandSeparator),r.leadZero&&(this._maskService.leadZero=r.leadZero),o=String(o);let f=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(o=this._maskService.decimalMarker!==f?o.replace(f,this._maskService.decimalMarker):o),this._maskService.leadZero&&o&&this._maskService.dropSpecialCharacters!==!1&&(o=this._maskService._checkPrecision(i,o)),this._maskService.decimalMarker===l.COMMA&&(o=o.replace(l.DOT,l.COMMA)),this._maskService.isNumberValue=!0}return o===null||typeof o>"u"?this._maskService.applyMask("",i):this._maskService.applyMask(`${o}`,i)}_setMask(e){this._maskExpressionArray().length>0&&this._maskExpressionArray().some(i=>{let a=this._maskService.removeMask(e)?.length<=this._maskService.removeMask(i)?.length;if(e&&a)return this._mask.set(i),a;{let r=this._maskExpressionArray()[this._maskExpressionArray.length-1]??l.EMPTY_STRING;this._mask.set(r)}})}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=mt({name:"mask",type:t,pure:!0})}return t})();var ps=["dropdownTrigger"],ms=[[["input","odxDatepickerControl",""]],[["","odxButton",""]]],fs=["input[odxDatepickerControl]","[odxButton]"],_s=t=>({position:t});function gs(t,n){if(t&1){let e=xe();p(0,"button",6),O("click",function(){ge(e);let a=F();return Se(a.reset())}),H(1,"odx-icon",7),m()}}function Ss(t,n){if(t&1){let e=xe();p(0,"odx-calendar",8),O("selectedDateChange",function(a){ge(e);let r=F();return Se(r.selectDate(a))}),m()}if(t&2){let e=F();A("selectedDate",e.value||e.today)("filterFn",e.filterFn)("minDate",e.minDate)("maxDate",e.maxDate)}}var Re={DMY:"DMY",MDY:"MDY",YMD:"YMD"},Cs={DAYS:"dd",MONTH:"MM",YEAR:"yyyy"},vs={DAYS:"d0",MONTH:"M0",YEAR:"0000"},{DatepickerConfig:jh,DatepickerDefaultConfig:Zh,injectDatepickerConfig:Ia,provideDatepickerConfig:qh}=Dt("Datepicker","@odx/angular/components/datepicker",{inputDateOrder:Re.DMY,inputDateSeparator:"."});function Pa({inputDateOrder:t,inputDateSeparator:n},e){return{[Re.DMY]:`${e.DAYS}${n}${e.MONTH}${n}${e.YEAR}`,[Re.MDY]:`${e.MONTH}${n}${e.DAYS}${n}${e.YEAR}`,[Re.YMD]:`${e.YEAR}${n}${e.MONTH}${n}${e.DAYS}`}[t]}function Ra(t){return Pa(t,Cs)}function Ds(t){return Pa(t,vs)}var xs={[Re.DMY]:t=>{let[n,e,i]=t;return{month:e,day:n,year:i}},[Re.MDY]:t=>{let[n,e,i]=t;return{month:n,day:e,year:i}},[Re.YMD]:t=>{let[n,e,i]=t;return{month:e,day:i,year:n}}};function ks({inputDateOrder:t,inputDateSeparator:n},e){let i=e.split(n),{month:a,day:r,year:s}=xs[t](i);return!a||!r||!s?null:`${a}.${r}.${s}`}function ys(t,n){let e=ks(t,n);if(!e)return null;let i=S(Date.parse(e));return He(i)?i:null}var pi=(()=>{let t=class Lt extends hn{constructor(){super(...arguments),this.maskConfig={validation:!1,leadZeroDateTime:!0},this.readonlyController=qt.inject(),this.config=Ia(),this.inputMask=Ds(this.config),this.ngxMaskPipe=E(hi),this.focused=new z,this.valueChange$=yi(this.element.nativeElement,"input").pipe(Ne(),Ye(()=>this.applyMask()),Z(()=>this.nativeElementValue))}applyMask(){this.nativeElementValue=this.ngxMaskPipe.transform(this.nativeElementValue,this.inputMask,this.maskConfig)}get valueAsDate(){return ys(this.config,this.nativeElementValue)}get placeholder(){return Ra(this.config).toUpperCase()}handleFocusIn(){this.focused.emit(!0)}handleFocusOut(){this.focused.emit(!1)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Ce(Lt)))(a||Lt)}})()}static{this.\u0275dir=$e({type:Lt,selectors:[["input","odxDatepickerControl",""]],hostVars:2,hostBindings:function(i,a){i&1&&O("focusin",function(){return a.handleFocusIn()})("focusout",function(){return a.handleFocusOut()}),i&2&&ve("readonly",(a.readonlyController==null?null:a.readonlyController.readonly)||null)("placeholder",a.placeholder)},outputs:{focused:"focused"},features:[de([qt.connect(),ba(),hi]),Ri([sn]),we]})}};return t=Y([ne("datepicker__control")],t),t})(),mi=(()=>{let t=class ui extends dn{get isOpen(){return!!this.dropdown.isOpen}constructor(){super(null),this.takeUntilDestroyed=vt(),this.config=Ia(),this.element=Ee(),this.today=new Date,this.filterFn=null,this.minDate=null,this.maxDate=null,this.dropdownPosition="bottom",this.clearable=ze(!1,{transform:Li}),this.selectedChange=new z,rn(this).subscribe()}ngAfterViewInit(){this.handleDateFieldChanges(),this.handleDateFieldFocus(),Le(()=>{this.value&&this.updateDateField(j(this.value))})}selectDate(e){e&&(this.updateInternalValue(e),this.selectedChange.emit(e),this.dropdown.close())}reset(){this.updateInternalValue(null)}updateInternalValue(e){this.updateValue(e),this.updateDateField(e)}handleDateFieldChanges(){this.dateField?.valueChange$.pipe(this.takeUntilDestroyed()).subscribe(()=>this.updateValue(this.dateField?.valueAsDate??null))}handleDateFieldFocus(){this.dateField?.focused.pipe(this.takeUntilDestroyed()).subscribe(e=>{e||this.onTouched(),this.isOpen&&this.dropdown.close()})}openDatepicker(e){e.stopPropagation(),!(this.isReadonly||this.isDisabled)&&this.dropdown.open(e)}updateDateField(e){if(!this.dateField)return;let i=Ra(this.config);this.dateField.nativeElementValue=e?sa(e,i):""}static{this.\u0275fac=function(i){return new(i||ui)}}static{this.\u0275cmp=ee({type:ui,selectors:[["odx-datepicker"]],contentQueries:function(i,a,r){if(i&1&&Ni(r,pi,5),i&2){let s;_t(s=gt())&&(a.dateField=s.first)}},viewQuery:function(i,a){if(i&1&&(Gt(yt,5),Gt(ps,7,pt)),i&2){let r;_t(r=gt())&&(a.dropdown=r.first),_t(r=gt())&&(a.dropdownTriggerElement=r.first)}},hostBindings:function(i,a){i&1&&O("keydown.alt.ArrowDown",function(s){return a.openDatepicker(s)})},inputs:{filterFn:"filterFn",minDate:"minDate",maxDate:"maxDate",dropdownPosition:"dropdownPosition",clearable:[1,"clearable"]},outputs:{selectedChange:"selectedChange"},features:[we],ngContentSelectors:fs,decls:9,vars:8,consts:[["dropdownTrigger",""],["calendarOverlay",""],[1,"odx-datepicker__trigger-wrapper"],["odxButton","","size","small","aria-label","Reset time",1,"odx-datepicker__clear"],["odxButton","","size","small","variant","ghost",1,"odx-datepicker__trigger",3,"odxDropdownBeforeClose","odxDropdown","odxDropdownOptions","odxDropdownTriggerElement","odxDropdownHost","odxDropdownReferenceElement"],["name","calendar"],["odxButton","","size","small","aria-label","Reset time",1,"odx-datepicker__clear",3,"click"],["name","close","iconSet","core"],["cdkTrapFocus","","cdkTrapFocusAutoCapture","",3,"selectedDateChange","selectedDate","filterFn","minDate","maxDate"]],template:function(i,a){if(i&1){let r=xe();ft(ms),Ke(0),p(1,"odx-action-group",2),y(2,gs,2,0,"button",3),p(3,"button",4,0),O("odxDropdownBeforeClose",function(){return ge(r),Se(a.onTouched())}),H(5,"odx-icon",5),m(),Ke(6,1,["ngProjectAs","[odxButton]",5,["","odxButton",""]]),m(),y(7,Ss,1,4,"ng-template",null,1,Fi)}if(i&2){let r=Vi(8);u(2),Qe(a.clearable()&&a.value?2:-1),u(),A("odxDropdown",r)("odxDropdownOptions",Yi(6,_s,a.dropdownPosition))("odxDropdownTriggerElement",a.dropdownTriggerElement.nativeElement)("odxDropdownHost",null)("odxDropdownReferenceElement",a.element.nativeElement)}},dependencies:[kt,un,wt,Be,wa,pn,yt,xt],encapsulation:2,changeDetection:0})}};return t=Y([ne("datepicker"),W("design:paramtypes",[])],t),t})();var Aa=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Pi({type:t})}static{this.\u0275inj=Mi({imports:[mi,re]})}}return t})();var Bt=class t{constructor(n){this.http=n}apiUrl="/api/patients";getPatientById(n){return this.http.get(`${this.apiUrl}/${encodeURIComponent(n)}`).pipe(Z(e=>Array.isArray(e)?e:[e]),Ye(e=>console.log("get patient data:",e)),ht(this.handleError))}getPaginatedPatientById(n,e,i,a,r){let s=n?`${this.apiUrl}/paginated/${encodeURIComponent(n)}`:`${this.apiUrl}/paginated`,d=new jt().set("page",e.toString()).set("pageSize",i.toString());return a&&(d=d.set("startTime",a)),r&&(d=d.set("endTime",r)),this.http.get(s,{params:d}).pipe(Z(o=>Array.isArray(o)?o:[o]),Ye(o=>console.log("get patient data:",o)),ht(this.handleError))}exportAllDataToExcel(n,e,i){let a=n?`${this.apiUrl}/export/${encodeURIComponent(n)}`:`${this.apiUrl}/export`,r=new jt;return e&&(r=r.set("startTime",e)),i&&(r=r.set("endTime",i)),this.http.get(a,{responseType:"blob",params:r}).pipe(Ye(()=>console.log("get excel file successfully")),ht(this.handleError))}handleError(n){let e=n.error?.message||n.statusText||"Unknown error";return Di(()=>new Error(`request fail\uFF1A${e}`))}static \u0275fac=function(e){return new(e||t)(Ei(Ui))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ms=(t,n)=>n.value;function Es(t,n){if(t&1&&(p(0,"odx-select-option",14),g(1),m()),t&2){let e=n.$implicit;A("value",e),u(),Q(" ",e.label," ")}}function bs(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.DEVICE_ID")))}function Is(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.device_id)}}function Ps(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.LOCAL_TIME")))}function Rs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.local_time)}}function As(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.DATE")))}function Os(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.Date)}}function Ns(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.TIME")))}function Vs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.Time)}}function Ys(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.HOUR")))}function Fs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.Hour)}}function $s(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.BED_LABEL")))}function Ls(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.bed_label)}}function Bs(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PATIENT_ID")))}function Hs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.pat_ID)}}function Us(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.MON_UNIT")))}function Ws(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.mon_unit)}}function Gs(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.CARE_UNIT")))}function js(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.care_unit)}}function Zs(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_GRADE")))}function qs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.alarm_grade)}}function zs(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_STATE")))}function Qs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.alarm_state)}}function Ks(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_GRADE_2")))}function Xs(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e["Alarm Grade 2"])}}function Js(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_MESSAGE")))}function eo(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.alarm_message)}}function to(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PARAM_ID")))}function io(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.param_id)}}function no(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PARAM_VALUE")))}function ao(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.param_value)}}function ro(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PARAM_UOM")))}function so(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.param_uom)}}function oo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PARAM_UPPER_LIM")))}function lo(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.param_upper_lim)}}function co(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.PARAM_LOWER_LIM")))}function ho(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.param_lower_lim)}}function uo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.LIMIT_VIOLATION_TYPE")))}function po(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.Limit_Violation_Type)}}function mo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.LIMIT_VIOLATION_VALUE")))}function fo(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.Limit_Violation_Value)}}function _o(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_SOURCE")))}function go(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.sourcechannel)}}function So(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ONSET_TICK")))}function Co(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.onset_tick)}}function vo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ALARM_DURATION")))}function Do(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.alarm_duration)}}function xo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.CHANGE_TIME_UTC")))}function ko(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e["change_time(UTC)"])}}function yo(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.CHANGE_TICK")))}function wo(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.change_tick)}}function To(t,n){t&1&&(p(0,"th",47),g(1),v(2,"translate"),m()),t&2&&(u(),C(x(2,1,"PATIENT.TABLE.ABORTED")))}function Mo(t,n){if(t&1&&(p(0,"td",48),g(1),m()),t&2){let e=n.$implicit;u(),C(e.aborted)}}var Oa=class t{constructor(n){this.patientService=n}selectOptions=[{value:5,label:"5",disabled:!1},{value:10,label:"10",disabled:!1},{value:20,label:"20",disabled:!1},{value:50,label:"50",disabled:!1},{value:100,label:"100",disabled:!1}];pageSizeValue=this.selectOptions[4];patientData=Fe([]);errorMessage="";page=1;pageSize=this.pageSizeValue.value;totalPages=0;totalItems=0;previousPageIndex=0;fieldstyle=ln.HORIZONTAL;formGroup=new qi({patientid:new et("",[Je.required]),startdate:new et(new Date,[Je.required]),enddate:new et(new Date,[Je.required]),pageSizeValue:new et(this.pageSizeValue,[Je.required])});ngOnInit(){this.queryPatient(1)}subscription=new Ci;variantValue=xn.STRIPED;filteredData(){let n=[],e=this.patientData();return e&&Array.isArray(e)?e.forEach(i=>{n.push({row_id:i.id||"",device_id:i.device_id||"",local_time:i.local_time||"",Date:i.Date||"",Time:i.Time||"",Hour:i.Hour||"",bed_label:i.bed_label||"",pat_ID:i.pat_ID||"",mon_unit:i.mon_unit||"",care_unit:i.care_unit||"",alarm_grade:i.alarm_grade||"",alarm_state:i.alarm_state||"","Alarm Grade 2":i["Alarm Grade 2"]||"",alarm_message:i.alarm_message||"",param_id:i.param_id||"",param_value:i.param_value||"",param_uom:i.param_uom||"",param_upper_lim:i.param_upper_lim||"",param_lower_lim:i.param_lower_lim||"",Limit_Violation_Type:i.Limit_Violation_Type||"",Limit_Violation_Value:i.Limit_Violation_Value||"",sourcechannel:i.sourcechannel||"",onset_tick:i.onset_tick||"",alarm_duration:i.alarm_duration||"","change_time(UTC)":i["change_time(UTC)"]||"",change_tick:i.change_tick||"",aborted:i.aborted||""})}):console.error("patientData is invalid or empty.",e),n}variant=ze.required();paginationParams=Fe({pageSize:this.pageSize,length:this.totalItems,pageIndex:this.page});dataSource=Bi(()=>this.filteredData());displayedColumns=["row_id","device_id","local_time","Date","Time","Hour","bed_label","pat_ID","mon_unit","care_unit","alarm_grade","alarm_state","Alarm Grade 2","alarm_message","param_id","param_value","param_uom","param_upper_lim","param_lower_lim","Limit_Violation_Type","Limit_Violation_Value","sourcechannel","onset_tick","alarm_duration","change_time(UTC)","change_tick","aborted"];stringify=n=>n?.label??"";identityMatcher=(n,e)=>n==null||e==null?!1:n.value===e.value;queryPatient(n=1){this.errorMessage="",this.patientData.set([]);let{patientid:e,startdate:i,enddate:a}=this.formGroup.value,r=Ht(i),s=Ht(a);this.patientService.getPaginatedPatientById(e,n,this.pageSize,r,s).subscribe({next:d=>{let o=Array.isArray(d)&&d.length>0?d[0]:null;o?(this.patientData.set(o.rows||[]),this.page=o.page,this.pageSize=o.pageSize,this.totalPages=o.totalPages,this.totalItems=o.total,this.paginationParams.set({pageSize:this.pageSize,length:this.totalItems,pageIndex:this.page-1})):(this.patientData.set([]),this.errorMessage="Server returned invalid data format",console.error("Server returned invalid data format",d))},error:d=>{this.patientData.set([]),this.errorMessage=d.message,console.error(d)}})}onPageChange(n){let e=n.pageIndex;e>this.previousPageIndex?console.log("next page \u2192"):e<this.previousPageIndex?console.log("\u2190 previous page"):console.log("page not changed"),this.previousPageIndex=e,this.page=e+1,this.pageSize=n.pageSize,this.paginationParams.set({pageSize:this.pageSize,length:this.totalItems,pageIndex:e}),this.queryPatient(this.page)}handlePageSizeChange(){this.pageSize=this.formGroup.get("pageSizeValue")?.value?.value??this.selectOptions[1].value,console.log(this.pageSizeValue),this.page=1,this.queryPatient(this.page)}exportAllDataToExcel(){let{patientid:n,startdate:e,enddate:i}=this.formGroup.value,a=Ht(e),r=Ht(i);this.patientService.exportAllDataToExcel(n,a,r).subscribe({next:s=>{(0,Na.saveAs)(s,`patients_data_${new Date().getTime()}.${Eo}`)},error:s=>{console.error("export to database fail",s),alert("export all data fail\uFF01")}})}static \u0275fac=function(e){return new(e||t)(Ii(Bt))};static \u0275cmp=ee({type:t,selectors:[["app-patient"]],inputs:{variant:[1,"variant"],stringify:"stringify",identityMatcher:"identityMatcher"},decls:115,vars:42,consts:[[1,"odx-app-page","patient-page"],["size","large"],[1,"odx-app-page__content-scroll"],[1,"odx-app-page__content-inner"],["odxForm","","odxLayout","grid",3,"disabled","formGroup"],[3,"variant"],["type","text","formControlName","patientid","odxFormFieldControl","","required","",3,"keyup.enter"],[3,"label","variant"],["formControlName","startdate","odxFormFieldControl","",2,"white-space","nowrap","min-width","max-content","overflow","visible"],["odxDatepickerControl",""],["formControlName","enddate","odxFormFieldControl","",2,"white-space","nowrap","min-width","max-content","overflow","visible"],["odxButton","",2,"white-space","nowrap","min-width","max-content","overflow","visible",3,"click"],["odxButton","",2,"white-space","nowrap","min-width","max-content","overflow","visible",3,"click","disabled"],["name","pageSizeValue","formControlName","pageSizeValue","odxFormFieldControl","",2,"width","100%",3,"optionSelected","stringify","identityMatcher"],[3,"value"],[1,"table-flow"],["odxDataTable","",3,"variant","dataSource","displayedColumns"],["odxColumnDef","device_id"],["odxHeaderCell","",4,"odxHeaderCellDef"],["odxCell","",4,"odxCellDef"],["odxColumnDef","local_time"],["odxColumnDef","Date"],["odxColumnDef","Time"],["odxColumnDef","Hour"],["odxColumnDef","bed_label"],["odxColumnDef","pat_ID"],["odxColumnDef","mon_unit"],["odxColumnDef","care_unit"],["odxColumnDef","alarm_grade"],["odxColumnDef","alarm_state"],["odxColumnDef","Alarm Grade 2"],["odxColumnDef","alarm_message"],["odxColumnDef","param_id"],["odxColumnDef","param_value"],["odxColumnDef","param_uom"],["odxColumnDef","param_upper_lim"],["odxColumnDef","param_lower_lim"],["odxColumnDef","Limit_Violation_Type"],["odxColumnDef","Limit_Violation_Value"],["odxColumnDef","sourcechannel"],["odxColumnDef","onset_tick"],["odxColumnDef","alarm_duration"],["odxColumnDef","change_time(UTC)"],["odxColumnDef","change_tick"],["odxColumnDef","aborted"],[1,"odx-paginator-footer"],[3,"pageChanged","pageSize","length","pageIndex"],["odxHeaderCell",""],["odxCell",""]],template:function(e,i){e&1&&(p(0,"div",0)(1,"odx-area-header",1),g(2),v(3,"translate"),m(),p(4,"div",2)(5,"div",3)(6,"form",4)(7,"odx-form-field",5)(8,"input",6),v(9,"translate"),O("keyup.enter",function(){return i.queryPatient(1)}),m()(),p(10,"odx-form-field",7),v(11,"translate"),p(12,"odx-datepicker",8),v(13,"translate"),H(14,"input",9),m()(),p(15,"odx-form-field",7),v(16,"translate"),p(17,"odx-datepicker",10),v(18,"translate"),H(19,"input",9),m()(),p(20,"button",11),O("click",function(){return i.queryPatient(1)}),g(21),v(22,"translate"),m(),p(23,"button",12),O("click",function(){return i.exportAllDataToExcel()}),g(24),v(25,"translate"),m(),p(26,"odx-form-field",5)(27,"odx-select",13),O("optionSelected",function(){return i.handlePageSizeChange()}),te(28,Es,2,2,"odx-select-option",14,Ms),m()()(),p(30,"div",15)(31,"table",16),b(32,17),y(33,bs,3,3,"th",18)(34,Is,2,1,"td",19),I(),b(35,20),y(36,Ps,3,3,"th",18)(37,Rs,2,1,"td",19),I(),b(38,21),y(39,As,3,3,"th",18)(40,Os,2,1,"td",19),I(),b(41,22),y(42,Ns,3,3,"th",18)(43,Vs,2,1,"td",19),I(),b(44,23),y(45,Ys,3,3,"th",18)(46,Fs,2,1,"td",19),I(),b(47,24),y(48,$s,3,3,"th",18)(49,Ls,2,1,"td",19),I(),b(50,25),y(51,Bs,3,3,"th",18)(52,Hs,2,1,"td",19),I(),b(53,26),y(54,Us,3,3,"th",18)(55,Ws,2,1,"td",19),I(),b(56,27),y(57,Gs,3,3,"th",18)(58,js,2,1,"td",19),I(),b(59,28),y(60,Zs,3,3,"th",18)(61,qs,2,1,"td",19),I(),b(62,29),y(63,zs,3,3,"th",18)(64,Qs,2,1,"td",19),I(),b(65,30),y(66,Ks,3,3,"th",18)(67,Xs,2,1,"td",19),I(),b(68,31),y(69,Js,3,3,"th",18)(70,eo,2,1,"td",19),I(),b(71,32),y(72,to,3,3,"th",18)(73,io,2,1,"td",19),I(),b(74,33),y(75,no,3,3,"th",18)(76,ao,2,1,"td",19),I(),b(77,34),y(78,ro,3,3,"th",18)(79,so,2,1,"td",19),I(),b(80,35),y(81,oo,3,3,"th",18)(82,lo,2,1,"td",19),I(),b(83,36),y(84,co,3,3,"th",18)(85,ho,2,1,"td",19),I(),b(86,37),y(87,uo,3,3,"th",18)(88,po,2,1,"td",19),I(),b(89,38),y(90,mo,3,3,"th",18)(91,fo,2,1,"td",19),I(),b(92,39),y(93,_o,3,3,"th",18)(94,go,2,1,"td",19),I(),b(95,40),y(96,So,3,3,"th",18)(97,Co,2,1,"td",19),I(),b(98,41),y(99,vo,3,3,"th",18)(100,Do,2,1,"td",19),I(),b(101,42),y(102,xo,3,3,"th",18)(103,ko,2,1,"td",19),I(),b(104,43),y(105,yo,3,3,"th",18)(106,wo,2,1,"td",19),I(),b(107,44),y(108,To,3,3,"th",18)(109,Mo,2,1,"td",19),I(),p(110,"odx-table-empty"),g(111),v(112,"translate"),m()(),p(113,"div",45)(114,"odx-paginator",46),O("pageChanged",function(r){return i.onPageChange(r)}),m()()()()()()),e&2&&(u(2),Q(" ",x(3,24,"PATIENT.HEADER")," "),u(4),A("disabled",!1)("formGroup",i.formGroup),u(),A("variant",i.fieldstyle),u(),ve("placeholder",x(9,26,"PATIENT.INPUT.PATIENT_ID_PLACEHOLDER")),u(2),A("label",x(11,28,"PATIENT.DATE.FROM_LABEL"))("variant",i.fieldstyle),u(2),ve("placeholder",x(13,30,"PATIENT.DATE.START_PLACEHOLDER")),u(3),A("label",x(16,32,"PATIENT.DATE.TO_LABEL"))("variant",i.fieldstyle),u(2),ve("placeholder",x(18,34,"PATIENT.DATE.END_PLACEHOLDER")),u(4),C(x(22,36,"PATIENT.ACTIONS.SEARCH")),u(2),A("disabled",!i.patientData()||i.patientData().length===0),u(),Q(" ",x(25,38,"PATIENT.ACTIONS.EXPORT_ALL")," "),u(2),A("variant",i.fieldstyle),u(),A("stringify",i.stringify)("identityMatcher",i.identityMatcher),u(),ie(i.selectOptions),u(3),A("variant",i.variantValue)("dataSource",i.dataSource())("displayedColumns",i.displayedColumns),u(80),C(x(112,40,"PATIENT.TABLE.EMPTY")),u(3),A("pageSize",i.pageSize)("length",i.totalItems)("pageIndex",i.page-1))},dependencies:[re,ae,Hi,Ji,zi,Gi,ji,Zi,Xi,Be,Dn,Wi,Cn,In,bn,kn,Tn,wn,En,yn,Mn,Rn,Pn,cn,Aa,mi,pi,mn,fn,_n,en,Qi,Ki,Sn,gn],styles:["[_nghost-%COMP%]     .odx-app-page__content-scroll{display:block;width:100%!important;max-width:100%!important;min-width:0!important;overflow-x:auto!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch;scrollbar-gutter:stable both-edges;box-sizing:border-box;padding-inline:24px;flex:1 1 auto;min-height:0}[_nghost-%COMP%]     .odx-app-page__content-inner{padding:0;box-sizing:border-box;min-width:0}[_nghost-%COMP%]     .odx-app-page__content-inner table{width:max-content!important;min-width:max-content;table-layout:auto!important}[_nghost-%COMP%]     .odx-app-page__content-scroll{padding-bottom:0}[_nghost-%COMP%]     .table-flow{display:inline-block;width:max-content;min-width:max-content}[_nghost-%COMP%]     .table-flow .odx-paginator-footer{display:flex;justify-content:flex-end;margin-top:8px}"],changeDetection:0})};var Eo="xlsx";function Ht(t){let n=t.getFullYear(),e=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");return`${n}-${e}-${i}`}export{Oa as PatientComponent};
