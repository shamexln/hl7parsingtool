import{b as U,c as oe,h as Ve,r as Re}from"./chunk-EUUJERWT.js";import{b as Ne}from"./chunk-IVREERM6.js";import{$ as K,Aa as te,Ac as B,Ba as f,Bc as C,Cc as h,D as _,Da as M,Db as x,Ea as $e,F as ce,Fa as y,Fc as Be,G as v,Hc as Oe,I as A,J as F,Ja as L,L as _e,La as E,Na as V,Oc as Ae,P as ue,Q as J,Qa as b,Rb as re,Sc as Le,T as d,Tc as le,Uc as H,Va as l,Vc as $,Wa as o,Xa as Se,Xc as Pe,Zc as S,a as ye,b as be,ba as ee,cb as ke,eb as P,ed as Qe,f as xe,fb as R,gb as u,gc as ne,hb as me,i as De,ib as ie,j as O,jb as w,k as z,kb as T,kc as D,l as a,lc as se,m,nc as we,o as X,ob as N,pb as Ie,pc as Te,qa as c,s,t as Y,ub as Me,va as Ee,vb as Q,vc as je,wc as W,x as k,y as Z,yb as j,za as I,zb as q,zc as qe}from"./chunk-PQW76BEZ.js";var Ze=["*"];function Je(t,g){}function Ke(t,g){if(t&1&&(l(0,"span",0),j(1,"async"),y(2,Je,0,0,"ng-template",1),o()),t&2){let e=P();L("id",q(1,3,e.formFieldService.controlErrorId$)),c(2),E("odxDynamicView",e.error.message)("odxDynamicViewContext",e.error.context)}}function et(t,g){t&1&&u(0)}var tt=[[["odx-form-field"]],[["odx-form-field-hint"]]],it=["odx-form-field","odx-form-field-hint"],rt=["control"],ot=[[["","odxFormFieldPrefix",""]],"*",[["","odxFormFieldSuffix",""]],[["odx-form-field-label"]],[["odx-form-field-hint"]]],nt=["[odxFormFieldPrefix]","*","[odxFormFieldSuffix]","odx-form-field-label","odx-form-field-hint"];function st(t,g){if(t&1&&(l(0,"odx-form-field-label"),N(1),o()),t&2){let e=P(2);c(),Ie(e.label)}}function lt(t,g){t&1&&u(0,3)}function at(t,g){t&1&&(l(0,"span",7),N(1,"*"),o())}function dt(t,g){if(t&1&&(Me(0),j(1,"async"),l(2,"label",1),y(3,st,2,1,"odx-form-field-label")(4,lt,1,0)(5,at,2,0,"span",7),j(6,"async"),o()),t&2){let e=P(),i=q(1,4,e.formFieldService.controlId$);c(2),L("for",i)("aria-owns",i),c(),b(e.label?3:4),c(2),b(q(6,6,e.formFieldService.isRequired$)?5:-1)}}function ct(t,g){if(t&1&&(l(0,"odx-form-field-info",6),j(1,"async"),u(2,4),o()),t&2){let e=P();E("error",q(1,1,e.formFieldErrorService.error$))}}var G=(()=>{class t extends le{constructor(){super(...arguments),this.disabledController=H.inject(),this.readonlyController=$.inject(),this.control$$=new O(null),this.control$=this.control$$.pipe(v({bufferSize:1,refCount:!0})),this.controlId$=this.control$.pipe(s(e=>e?e.nativeElement.id||Oe("odx-form-field"):null),v({bufferSize:1,refCount:!0})),this.controlHintId$=this.controlId$.pipe(s(e=>e?`${e}-hint`:null),v({bufferSize:1,refCount:!0})),this.controlErrorId$=this.controlId$.pipe(s(e=>e?`${e}-error`:null),v({bufferSize:1,refCount:!0})),this.isDisabled$=this.control$.pipe(F(e=>e?Z(this.updateControlDisabledState(e),this.getControlDisabledState(e)):X(!1)),_(),v({bufferSize:1,refCount:!0})),this.isRequired$=this.control$.pipe(F(e=>(e?.control.events??z).pipe(F(()=>xe(this,null,function*(){return e})),A(e))),s(e=>!!(e?.nativeElement.hasAttribute("required")||e?.control.hasValidator(U.required))),_(),v({bufferSize:1,refCount:!0})),this.isReadonly$=this.control$.pipe(F(e=>e&&this.readonlyController?this.readonlyController.isReadonly$:X(!1)))}ngOnDestroy(){this.control$$.complete(),super.ngOnDestroy()}registerControl(e,{nativeElement:i}){this.control$$.next({control:e,nativeElement:i})}removeControl(){this.control$$.next(null)}updateControlDisabledState({control:e}){return this.disabledController?this.disabledController.isDisabled$.pipe(_e(i=>{i?e.disable():e.enable()})):z}getControlDisabledState({control:e}){return e.statusChanges.pipe(A(e.status),s(i=>i==="DISABLED"),_())}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=K(t)))(r||t)}})()}static{this.\u0275prov=ue({token:t,factory:t.\u0275fac})}}return t})(),He=(()=>{class t{constructor(){this.formFieldService=d(G),this.error=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["odx-form-field-info"]],hostVars:2,hostBindings:function(i,r){i&2&&V("odx-form-field__info",!0)},inputs:{error:"error"},ngContentSelectors:Ze,decls:2,vars:1,consts:[[1,"odx-form-field-error"],[3,"odxDynamicView","odxDynamicViewContext"]],template:function(i,r){i&1&&(R(),y(0,Ke,3,5,"span",0)(1,et,1,0)),i&2&&b(r.error?0:1)},dependencies:[S,re,Ne],encapsulation:2})}}return t})(),{FormFieldDefaultConfig:Pt,FormFieldConfig:Nt,injectFormFieldConfig:ut,provideFormFieldConfig:Qt}=Ae("FormField","@odx/angular/components/form-field",{errors:{},ignoreErrors:[],updateOn:["blur"]}),Ue="@odx/angular/form-field/default-error",mt=()=>"",ae=(()=>{class t{constructor(){this.config=ut(),this.fieldError$$=new O(null),this.customErrors$$=new O({}),this.error$=Y([this.fieldError$$,this.customErrors$$]).pipe(s(([e,i])=>this.resolveError(e,i)),_(),v({bufferSize:1,refCount:!0})),this.hasError$=this.error$.pipe(s(e=>e!==null))}get hasError(){return this.fieldError$$.getValue()!==null}ngOnDestroy(){this.fieldError$$.next(null),this.customErrors$$.next({}),this.fieldError$$.complete(),this.customErrors$$.complete()}setError(e){this.fieldError$$.next(this.getFirstError(e??{}))}registerCustomError(e,i){this.customErrors$$.next(be(ye({},this.customErrors$$.getValue()),{[e||Ue]:i}))}getFirstError(e){let[i,r]=Object.entries(e??{}).find(([n])=>!this.config.ignoreErrors.includes(n))??[];return i?{key:i,context:r}:null}resolveError(e,i){if(!e)return null;let{key:r,context:n}=e,p=i[r]??i[Ue];if(Te(p))return{key:r,message:p,context:{$implicit:n}};let Ye=this.config.errors[r]??mt;return{key:r,message:Ye(n)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=ue({token:t,factory:t.\u0275fac})}}return t})(),Ge=(()=>{let t=class fe{constructor(){this.element=h(),this.error$=null}ngAfterContentInit(){this.error$=this.formFieldErrorServices.changes.pipe(A(this.formFieldErrorServices),F(e=>Y(e.map(i=>i.error$))),s(e=>e.find(i=>i!==null)??null))}static{this.\u0275fac=function(i){return new(i||fe)}}static{this.\u0275cmp=I({type:fe,selectors:[["odx-form-group"]],contentQueries:function(i,r,n){if(i&1&&me(n,ae,4),i&2){let p;w(p=T())&&(r.formFieldErrorServices=p)}},features:[Q([G])],ngContentSelectors:it,decls:5,vars:3,consts:[["odxLayout","grid",1,"odx-form-group__content"],[3,"error"]],template:function(i,r){i&1&&(R(tt),l(0,"div",0),u(1),o(),l(2,"odx-form-field-info",1),j(3,"async"),u(4,1),o()),i&2&&(c(2),E("error",q(3,1,r.error$)))},dependencies:[S,re,He],encapsulation:2,changeDetection:0})}};return t=a([D("form-group")],t),t})(),ft=(()=>{let t=class he{constructor(){this.element=h(),this.submit$=k(this.element.nativeElement,"submit").pipe(ne(),ce()),this.reset$=k(this.element.nativeElement,"reset").pipe(ne(),ce())}static{this.\u0275fac=function(i){return new(i||he)}}static{this.\u0275dir=f({type:he,selectors:[["form","odxForm",""]],exportAs:["odxForm"]})}};return t=a([D("form")],t),t})(),Ut=(()=>{let t=class pe{constructor(){this.ngControl=d(oe,{optional:!0,self:!0}),this.form=d(ft,{optional:!0,skipSelf:!0}),this.forceValidation$$=new De,this.onFormSubmit$=this.form?.submit$??z,this.formFieldService=d(G),this.formFieldErrorService=d(ae),this.takeUntilDestroyed=ne(),this.element=h(),C(this.formFieldService.controlId$,"id"),C(this.formFieldService.controlHintId$,"aria-describedby"),C(this.formFieldService.isReadonly$,"readonly"),C(this.formFieldService.isDisabled$.pipe(s(W)),"aria-disabled"),C(this.formFieldService.isReadonly$.pipe(s(W)),"aria-readonly"),C(this.formFieldService.isRequired$.pipe(s(W)),"aria-required"),C(this.formFieldErrorService.hasError$.pipe(s(W)),"aria-invalid"),C(this.formFieldErrorService.hasError$.pipe(F(e=>e?this.formFieldService.controlErrorId$:X(null))),"aria-errormessage")}ngOnInit(){let e=this.ngControl?.control;if(this.formFieldService.registerControl(e??new Ve,this.element),!e)return;this.patchControl(e),Z(this.registerOnStatusChange(e),this.registerOnBlur(e)).pipe(this.takeUntilDestroyed).subscribe(()=>{this.formFieldErrorService.setError(e.touched?e.errors:null)}),this.onFormSubmit$.pipe(this.takeUntilDestroyed).subscribe(()=>e.markAsTouched({onlySelf:!0}))}ngOnDestroy(){this.formFieldService.removeControl()}registerOnBlur({status:e,statusChanges:i}){return k(this.element.nativeElement,"focusout",{once:!0}).pipe(F(()=>i.pipe(A(e))))}registerOnStatusChange({statusChanges:e}){return Z(e,this.forceValidation$$)}patchControl(e){let i=e.markAsTouched;e.markAsTouched=(...r)=>{i.apply(e,r),this.forceValidation$$.next()}}static{this.\u0275fac=function(i){return new(i||pe)}}static{this.\u0275dir=f({type:pe,selectors:[["","odxFormFieldControl",""]],exportAs:["odxFormFieldControl"]})}};return t=a([D("form-field-control"),m("design:paramtypes",[])],t),t})();var We=(()=>{let t=class Ce{constructor(){this.element=h()}static{this.\u0275fac=function(i){return new(i||Ce)}}static{this.\u0275dir=f({type:Ce,selectors:[["odx-form-field-label"]]})}};return t=a([D("form-field-label")],t),t})(),ht={FULL:"full",SIMPLE:"simple",HORIZONTAL:"horizontal"},pt=(()=>{let t=class ge{set hasWarning(e){this.hasWarning$$.next(e)}get hasWarning(){return this.hasWarning$$.getValue()}get hasLabel(){return!!(this.labelDirective||this.label)}constructor(){this.hasWarning$$=new O(!1),this.formGroup=d(Ge,{optional:!0,host:!0}),this.formFieldService=d(G,{self:!0}),this.formFieldErrorService=d(ae,{self:!0}),this.element=h(),this.label=null,this.variant=ht.FULL;let e=Y([this.formFieldErrorService.error$,this.hasWarning$$]).pipe(s(([i,r])=>i&&r));B(this.formFieldService.isRequired$,"odx-form-field--required"),B(this.formFieldService.isDisabled$,"is-disabled"),B(this.formFieldService.isReadonly$,"is-readonly"),B(this.formFieldErrorService.hasError$,"has-error"),B(e,"has-warning")}static{this.\u0275fac=function(i){return new(i||ge)}}static{this.\u0275cmp=I({type:ge,selectors:[["odx-form-field"]],contentQueries:function(i,r,n){if(i&1&&me(n,We,5),i&2){let p;w(p=T())&&(r.labelDirective=p.first)}},viewQuery:function(i,r){if(i&1&&ie(rt,5),i&2){let n;w(n=T())&&(r.controlElement=n.first)}},inputs:{label:"label",hasWarning:[2,"hasWarning","hasWarning",x],variant:"variant"},features:[Q([G,ae,H.connect(),$.connect()])],ngContentSelectors:nt,decls:10,vars:2,consts:[["control",""],[1,"odx-form-field__label"],[1,"odx-form-field__inner"],[1,"odx-form-field__control"],[1,"odx-form-field__prefix"],[1,"odx-form-field__suffix"],[3,"error"],[1,"odx-form-field__label-is-required"]],template:function(i,r){i&1&&(R(ot),y(0,dt,7,8,"label",1),l(1,"div",2)(2,"div",3,0)(4,"div",4),u(5),o(),u(6,1),l(7,"div",5),u(8,2),o()(),y(9,ct,3,3,"odx-form-field-info",6),o()),i&2&&(b(r.hasLabel?0:-1),c(9),b(r.formGroup?-1:9))},dependencies:[S,re,He,We],encapsulation:2,changeDetection:0})}};return a([se(),m("design:type",Object)],t.prototype,"variant",void 0),t=a([D("form-field"),m("design:paramtypes",[])],t),t})();var Wt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=J({imports:[pt,Ge,S]})}}return t})();var Fe=(()=>{class t{constructor(){this.element=h()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=f({type:t,selectors:[["","odxControl",""]],exportAs:["odxControl"]})}}return t})(),ze=(()=>{class t extends le{static{this.CURRENT_INDEX=0}set value(e){this.internalValue!==e&&(this.internalValue=e,this.triggerControllerChange())}get value(){return this.internalValue}get hasError(){return!!this.ngControl?.touched&&!!this.ngControl?.invalid&&this.hasNonIgnoredError(this.ngControl.errors)}get isDisabled(){return!!this.disabledController?.disabled}get isReadonly(){return!!this.readonlyController?.readonly}get isRequired(){return this.required||!!this.requiredValidator?.required||this.hasValidator(U.required)||this.hasValidator(U.requiredTrue)}constructor(e){super(),this.requiredValidator=d(Re,{optional:!0,self:!0}),this.disabledController=H.inject(),this.readonlyController=$.inject(),this.ngControl=d(oe,{self:!0,optional:!0}),this.id=null,this.name=`odx-form-control-${t.CURRENT_INDEX++}`,this.tabindex=null,this.ignoreErrors=[],this.required=!1,this.control=null,this.internalValue=e,this.ngControl&&(this.ngControl.valueAccessor=this)}onTouched(){}onChange(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabledController?.setDisabledState(e)}writeValue(e){this.value=e,this.onChange(e)}updateValue(e){this.isDisabled||(this.writeValue(e),this.onTouched())}hasValidator(e){return!!this.ngControl?.control?.hasValidator(e)}hasNonIgnoredError(e){return e?Object.keys(e).some(i=>!this.ignoreErrors.includes(i)):!1}static{this.\u0275fac=function(i){Ee()}}static{this.\u0275dir=f({type:t,viewQuery:function(i,r){if(i&1&&ie(Fe,5),i&2){let n;w(n=T())&&(r.control=n.first)}},hostVars:8,hostBindings:function(i,r){i&2&&V("has-error",r.hasError)("is-disabled",r.isDisabled)("is-readonly",r.isReadonly)("is-required",r.isRequired)},inputs:{id:"id",name:"name",tabindex:"tabindex",ignoreErrors:[2,"ignoreErrors","ignoreErrors",Be],required:[2,"required","required",x]},standalone:!1,features:[M]})}}return a([we,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",Boolean)],t.prototype,"hasNonIgnoredError",null),t})(),ri=(()=>{class t{constructor(){this.takeUntilDestroyed=qe(),this.element=h(),this.valueChange$=k(this.element.nativeElement,"input").pipe(_(),s(()=>this.nativeElementValue))}get nativeElementValue(){return this.element.nativeElement.value}set nativeElementValue(e){this.element.nativeElement.value=e}focus(){this.element.nativeElement.focus()}blur(){this.element.nativeElement.blur()}reset(){this.element.nativeElement.value=""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=f({type:t})}}return t})();var Xe=(()=>{class t extends ze{set checked(e){this.value=e}get checked(){return this.value}get ariaChecked(){return je(this.checked)}constructor(){super(!1),this.element=h(),this.controlValue=null,this.checkedChange=new ee,Le(this).subscribe()}onChanged(e){e.stopPropagation(),super.updateValue(e.target.checked),this.checkedChange.next(this.checked)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=f({type:t,selectors:[["","odxCheckBoxControl",""]],inputs:{checked:[2,"checked","checked",x],controlValue:[0,"value","controlValue"]},outputs:{checkedChange:"checkedChange"},standalone:!1,features:[M]})}}return t})();var Ct=["*",[["",8,"odx-checkbox__subtitle"]]],gt=["*",".odx-checkbox__subtitle"];function vt(t,g){t&1&&(l(0,"span",6),N(1,"*"),o())}var Ft=(()=>{let t=class de extends Xe{constructor(){super(...arguments),this.isIndeterminate=!1,this.indeterminateChange=new ee}set indeterminate(e){this.isIndeterminate!==e&&(this.isIndeterminate=e,this.indeterminateChange.emit(this.isIndeterminate))}get indeterminate(){return this.isIndeterminate}get ariaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}get modifierIcon(){return this.indeterminate?"minus":"check"}onChanged(e){e.stopPropagation(),this.indeterminate=!1,super.updateValue(e.target.checked),this.checkedChange.next(this.checked)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=K(de)))(r||de)}})()}static{this.\u0275cmp=I({type:de,selectors:[["odx-checkbox"]],hostVars:2,hostBindings:function(i,r){i&2&&V("is-active",r.checked||r.indeterminate)},inputs:{indeterminate:[2,"indeterminate","indeterminate",x]},outputs:{indeterminateChange:"indeterminateChange"},features:[Q([$.connect()]),$e([Pe]),M],ngContentSelectors:gt,decls:9,vars:13,consts:[[1,"odx-checkbox__label"],["odxControl","","type","checkbox",1,"odx-checkbox__input",3,"blur","change","checked","disabled","indeterminate","name","readonly","value"],[1,"odx-checkbox__indicator"],["iconSet","core",3,"name"],[1,"odx-checkbox__content"],[1,"odx-checkbox__title"],[1,"odx-checkbox__required"]],template:function(i,r){i&1&&(R(Ct),l(0,"label",0)(1,"input",1),ke("blur",function(){return r.onTouched()})("change",function(p){return r.onChanged(p)}),o(),l(2,"div",2),Se(3,"odx-icon",3),o(),l(4,"div",4)(5,"div",5),u(6),y(7,vt,2,0,"span",6),o(),u(8,1),o()()),i&2&&(c(),E("checked",r.checked)("disabled",r.isDisabled||r.isReadonly)("indeterminate",r.indeterminate)("name",r.name)("readonly",r.isReadonly)("value",r.value),L("aria-checked",r.ariaChecked)("aria-invalid",r.hasError||null)("aria-readonly",r.isReadonly||null)("aria-required",r.isRequired||null)("tabindex",r.tabindex||null),c(2),E("name",r.modifierIcon),c(4),b(r.isRequired?7:-1))},dependencies:[Qe,Fe],encapsulation:2,changeDetection:0})}};return a([se(),m("design:type",Boolean),m("design:paramtypes",[Boolean])],t.prototype,"indeterminate",null),t=a([D("checkbox")],t),t})();var Mi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=J({imports:[Ft,S]})}}return t})();export{Ut as a,ht as b,pt as c,Wt as d,ze as e,ri as f,Ft as g,Mi as h};
