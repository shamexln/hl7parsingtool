import{h as Fe,i as K}from"./chunk-I5SXR335.js";import{c as ve,e as we,f as Oe,g as Q,h as be}from"./chunk-LDSH5ZEA.js";import{b as ye,e as N}from"./chunk-IVREERM6.js";import{$ as q,$a as V,$c as De,Aa as ae,Ba as D,Bb as Z,Cb as R,Cc as b,Da as v,Db as C,Fa as a,Gb as ee,Gc as F,Ja as m,La as f,Na as g,O as se,Q as ce,Qa as x,Qb as ge,R as E,Rc as Se,Sc as j,T as u,Uc as te,Va as d,Wa as h,Xa as de,Y as _,Z as S,Zc as ie,_a as X,ab as G,ba as y,cb as p,da as T,eb as s,ed as xe,fb as Y,ga as M,gb as I,hb as W,ib as H,jb as w,kb as O,kc as L,l as A,lc as Ce,m as z,nb as B,ob as J,pb as pe,qa as c,qb as he,sc as _e,vb as ue,wb as me,xb as fe,za as U,zc as P}from"./chunk-PQW76BEZ.js";var Te=(()=>{class i{constructor(){this.takeUntilDestroyed=P(),this.cdr=u(R),this.isActive=!1,this.value=null,this.element=b()}setInactiveStyles(){F(()=>{this.isActive=!1,this.cdr.markForCheck()})}getLabel(){return this.element.nativeElement.textContent?.trim()??""}select(e){e.stopPropagation(),e.preventDefault(),this.selectOption()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=D({type:i,hostAttrs:["role","option"],hostVars:7,hostBindings:function(t,n){t&1&&p("click",function(r){return n.select(r)}),t&2&&(m("aria-selected",n.isSelected),g("odx-option",!0)("is-active",n.isActive)("is-selected",n.isSelected))},inputs:{value:"value"}})}}return i})();var ke=(()=>{class i extends we{get dropdownReferenceElement(){return this.formField?.controlElement?.nativeElement??this.element?.nativeElement}get hasOptions(){return!!this.options?.length}get isOpen(){return!!this.dropdown?.isOpen}constructor(){super(null),this.changeDetector=u(R),this.formField=u(ve,{optional:!0}),this.takeUntilDestroyed=P(),this.smoothScrollEnabled=!1,this.element=b(),this.isLoading=!1,this.optionSelected=new y,this.beforeDropdownOpen=new y,this.afterDropdownOpen=new y,this.beforeDropdownClose=new y,this.afterDropdownClose=new y,j(this).subscribe()}ngAfterViewInit(){this.options&&(this.initKeyManager(this.options.toArray()),this.handleQueryListOption(this.options),this.handleSearchFieldChanges())}scrollOptionIntoView({element:e}){let t=this.smoothScrollEnabled?"smooth":void 0;_e(e.nativeElement.scrollIntoView)&&e.nativeElement.scrollIntoView({block:"center",behavior:t})}initKeyManager(e){this.keyManager=new N(e).withHomeAndEnd()}disableSmoothScroll(){this.smoothScrollEnabled=!1}enableSmoothScroll(){this.smoothScrollEnabled=!0}openDropdown(){this.dropdown?.open()}closeDropdown(){this.dropdown?.close()}onDropdownOpen(){this.beforeDropdownOpen.emit(),this.activateSelectedOption()}onDropdownOpened(){this.afterDropdownOpen.emit(),this.enableSmoothScroll()}onDropdownClose(){this.beforeDropdownClose.emit(),this.disableSmoothScroll()}onDropdownClosed(){this.afterDropdownClose.emit()}handleFocusOut(e){this.isOpen&&e.stopImmediatePropagation(),this.onTouched()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=D({type:i,viewQuery:function(t,n){if(t&1&&H(K,5),t&2){let o;w(o=O())&&(n.dropdown=o.first)}},hostVars:3,hostBindings:function(t,n){t&1&&p("focusout",function(r){return n.handleFocusOut(r)}),t&2&&(m("aria-disabled",n.isDisabled||null),g("is-open",n.isOpen))},inputs:{isLoading:[2,"isLoading","isLoading",C],stringify:"stringify"},outputs:{optionSelected:"optionSelected",beforeDropdownOpen:"beforeDropdownOpen",afterDropdownOpen:"afterDropdownOpen",beforeDropdownClose:"beforeDropdownClose",afterDropdownClose:"afterDropdownClose"},features:[v]})}}return i})();var Ee=new E("@odx/angular/cdk/autocomplete-control::SearchFilterHost");var Me=["*"];function Ve(i,l){i&1&&X(0)}function Ie(i,l){if(i&1&&(d(0,"odx-checkbox",1),a(1,Ve,1,0,"ng-container",2),h()),i&2){let e=s(),t=B(3);f("checked",e.isSelected)("disabled",e.disabled),c(),f("ngTemplateOutlet",t)}}function He(i,l){i&1&&X(0)}function Be(i,l){if(i&1&&a(0,He,1,0,"ng-container",2),i&2){s();let e=B(3);f("ngTemplateOutlet",e)}}function Re(i,l){i&1&&I(0)}var Le=[[["","odxSelectSearchField",""]],"*"],Pe=["[odxSelectSearchField]","*"],je=()=>({matchReferenceWidth:!0,offset:4,outerPadding:10,position:"bottom-start"}),Qe=i=>({$implicit:i});function Ne(i,l){}function Ke(i,l){if(i&1){let e=V();d(0,"odx-icon",7),p("click",function(n){_(e);let o=s(2);return S(o.resetValue(n))}),h()}}function $e(i,l){if(i&1&&(d(0,"div",2),a(1,Ne,0,0,"ng-template",5)(2,Ke,1,0,"odx-icon",6),h()),i&2){let e=s();c(),f("odxDynamicView",e.selectedOptionContent)("odxDynamicViewContext",fe(3,Qe,e.value)),c(),x(e.clearable()?2:-1)}}function ze(i,l){if(i&1&&(d(0,"div",3),J(1),h()),i&2){let e=s();c(),he(" ",e.placeholder," ")}}function qe(i,l){if(i&1){let e=V();d(0,"div",11),p("click",function(n){_(e);let o=s(3);return S(o.clickSelectAll(n))}),d(1,"odx-checkbox",12),J(2),h()()}if(i&2){let e=s(3);c(),f("indeterminate",e.isIndeterminateSelection())("checked",e.allOptionSelected()),c(),pe(e.hasSelectAllText())}}function Ue(i,l){if(i&1&&(a(0,qe,3,3,"div",10),I(1,1)),i&2){let e=s(2);x(e.hasSelectAll()&&e.multiple?0:-1)}}function Xe(i,l){}function Ge(i,l){if(i&1&&(d(0,"odx-select-option",9),a(1,Xe,0,0,"ng-template",13),h()),i&2){let e=s(2);c(),f("odxDynamicView",e.searchField==null?null:e.searchField.notFoundContent)}}function Ye(i,l){if(i&1&&(d(0,"div",8),a(1,Ue,2,1)(2,Ge,2,1,"odx-select-option",9),h()),i&2){let e=s();c(),x(e.hasOptions?1:2)}}var oe=new E("@odx/angular/components/select::SelectComponent"),re=(()=>{let i=class le extends Te{set disabled(e){this._isDisabled=e}get disabled(){return this._isDisabled}constructor(){super(),this._isDisabled=!1,this.selectControl=u(oe),this.isSelected=!1,this.notFoundMessage=!1,j(this.selectControl).pipe(this.takeUntilDestroyed()).subscribe(()=>{this.isSelected=this.selectControl.isOptionSelected(this)})}ngOnInit(){this.isSelected=this.selectControl.isOptionSelected(this)}setActiveStyles(){this.disabled||(F(()=>{this.isActive=!0,this.cdr.markForCheck()}),this.selectControl.isOpen?this.selectControl.scrollOptionIntoView(this):this.selectControl.selectOption(this))}switchCheckbox(){this.selectControl.multiple&&(this.isSelected=!this.isSelected,this.cdr.markForCheck())}selectOption(){this.selectControl.selectOption(this)}static{this.\u0275fac=function(t){return new(t||le)}}static{this.\u0275cmp=U({type:le,selectors:[["odx-select-option"],["odx-option"]],hostVars:3,hostBindings:function(t,n){t&2&&(m("aria-disabled",n.disabled||null),g("is-disabled",n.disabled))},inputs:{notFoundMessage:[2,"notFoundMessage","notFoundMessage",C],disabled:[2,"disabled","disabled",C]},features:[v],ngContentSelectors:Me,decls:4,vars:1,consts:[["content",""],[3,"checked","disabled"],[4,"ngTemplateOutlet"]],template:function(t,n){t&1&&(Y(),a(0,Ie,2,3,"odx-checkbox",1)(1,Be,1,1,"ng-container")(2,Re,1,0,"ng-template",null,0,Z)),t&2&&x(n.selectControl.multiple&&!n.notFoundMessage?0:1)},dependencies:[ie,ge,te,Q],encapsulation:2,changeDetection:0})}};return i=A([L("select-option"),z("design:paramtypes",[])],i),i})(),ne=(()=>{class i{constructor(){this.isActive=!1,this.element=b(),this.disabled=!1}setActiveStyles(){this.isActive=!0}setInactiveStyles(){this.isActive=!1}getLabel(){return this.element.nativeElement.textContent?.trim()??""}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=D({type:i,selectors:[["","odxSelectAll",""]],hostAttrs:["role","option"],hostVars:2,hostBindings:function(t,n){t&2&&g("is-active",n.isActive)}})}}return i})(),We=(()=>{let i=class $ extends Oe{constructor(){super(...arguments),this.isReadonly=ee(()=>F(()=>this.isVisible()?null:!0)),this.isVisible=M(!1),this.notFoundContent=null}handleDelete(){this.reset()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=q($)))(n||$)}})()}static{this.\u0275dir=D({type:$,selectors:[["input","odxSelectSearchField",""]],hostVars:3,hostBindings:function(t,n){t&1&&p("keydown.delete",function(){return n.handleDelete()}),t&2&&(m("readonly",n.isReadonly()),g("is-visible",n.isVisible()))},inputs:{notFoundContent:[0,"odxSelectSearchField","notFoundContent"]},features:[v]})}};return i=A([L("select__control")],i),i})();var Je=(()=>{let i=class k extends ke{constructor(){super(...arguments),this.selectedOption=null,this.selectedOptionText=null,this.isIndeterminateSelection=M(!1),this.allOptionSelected=M(!1),this.placeholder="",this.clearable=T(!1,{transform:C}),this.hasSelectAll=T(!1,{transform:C}),this.hasSelectAllText=T("Select all"),this.multiple=!1,this.selectedOptionTemplate=null,this.identityMatcher=u(De)}get selectedOptionContent(){return this.selectedOption?this.selectedOptionTemplate??this.selectedOptionText:null}ngAfterViewInit(){this.options&&(this.handleQueryListOption(this.options),this.handleSearchFieldChanges())}registerOnChange(e){super.registerOnChange(t=>{this.updateSelectedOption(),e(t)})}selectOption(e){if(e&&!e.disabled){e.switchCheckbox(),this.selectAllHandler();let t=this.multiple?this.multipleSelectValueResolver(e):e.value;this.updateValue(t??null),this.optionSelected.emit(e.value)}!this.multiple&&!e?.disabled&&this.closeDropdown()}isOptionSelected(e){return e?this.multiple&&Array.isArray(this.value)?this.value.some(t=>this.identityMatcher(e.value,t)):this.identityMatcher(e.value,this.value):!1}initKeyManager(e){this.keyManager=new N(e).withHomeAndEnd().skipPredicate(t=>!!t.disabled)}handleQueryListOption(e){Se(e).pipe(this.takeUntilDestroyed()).subscribe(()=>{this.updateSelectedOption(),this.isOpen&&F(()=>this.activateSelectedOption())})}handleSearchFieldChanges(){this.searchField?.valueChange$.pipe(this.takeUntilDestroyed()).subscribe(()=>this.triggerControllerChange())}clickSelectAll(e){if(this.isLoading||this.readonlyController?.readonly||!this.isOpen)return;e.preventDefault(),e.stopImmediatePropagation();let t=this.options?.toArray().filter(o=>!o.disabled);if(!t)return;let n=t.every(o=>o.isSelected);t.forEach(o=>{(n||!o.isSelected)&&this.selectOption(o)}),this.selectAllHandler()}handleControllerEvent(e){if(!(this.isLoading||this.readonlyController?.readonly||!this.isOpen)){if(this.hasOptions&&(e.key==="Enter"||e.key==="Tab")){if(e.preventDefault(),e.stopImmediatePropagation(),this.keyManager?.activeItem instanceof ne)return this.clickSelectAll(e);this.selectOption(this.keyManager?.activeItem);return}this.keyManager?.onKeydown(e)}}activateSelectedOption(){let e=this.options?.toArray().findIndex(t=>t.isSelected&&!t.disabled);(!e||e===-1)&&(e=this.options?.toArray().findIndex(t=>!t.disabled)??-1),this.keyManager?.setActiveItem(e)}onDropdownOpen(){super.onDropdownOpen(),this.searchField?.isVisible.set(!0)}onDropdownClose(){super.onDropdownClose(),this.searchField?.isVisible()&&(this.searchField?.isVisible.set(!1),this.searchField?.reset(),this.searchField?.blur()),this.element.nativeElement?.blur()}onDropdownOpened(){if(super.onDropdownOpened(),this.options){let e=this.selectAllDirective?[this.selectAllDirective,...this.options.toArray()]:this.options.toArray();this.initKeyManager(e)}}onDropdownClosed(){super.onDropdownClosed(),this.searchField?.reset(),this.keyManager=void 0}resetValue(e){e.stopPropagation(),this.updateValue(null)}updateSelectedOption(){let e=this.options?.toArray();if(this.selectedOption=e?.find(t=>t.isSelected)??null,this.multiple){this.options?.forEach(t=>t.isSelected=this.isOptionSelected(t)),this.selectedOptionText=e?.filter(({isSelected:t})=>t).map(t=>this.stringify?.(t.value)??t.getLabel()).join(", ")??null,this.changeDetector.detectChanges();return}this.selectedOptionText=this.selectedOption?this.stringify?.(this.selectedOption?.value)??this.selectedOption.getLabel():null,this.changeDetector.detectChanges()}multipleSelectValueResolver(e){let t=Array.isArray(this.value)?this.value:[];return e.isSelected?t.push(e.value):t=t.filter(n=>!this.identityMatcher(e.value,n)),t}selectAllHandler(){let e=this.options?.toArray().filter(n=>!n.disabled);if(!e)return;let t=e.every(n=>n.isSelected);this.isIndeterminateSelection.set(!t&&e.some(n=>n.isSelected)),this.allOptionSelected.set(t)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=q(k)))(n||k)}})()}static{this.\u0275cmp=U({type:k,selectors:[["odx-select"]],contentQueries:function(t,n,o){if(t&1&&(W(o,We,5),W(o,re,5)),t&2){let r;w(r=O())&&(n.searchField=r.first),w(r=O())&&(n.options=r)}},viewQuery:function(t,n){if(t&1&&H(ne,5),t&2){let o;w(o=O())&&(n.selectAllDirective=o.first)}},hostVars:2,hostBindings:function(t,n){t&1&&p("click",function(r){return n.handleControllerEvent(r)})("keydown",function(r){return n.handleControllerEvent(r)}),t&2&&(G("tabindex",n.isDisabled||n.searchField?-1:0),m("aria-multiselectable",n.multiple))},inputs:{placeholder:"placeholder",clearable:[1,"clearable"],hasSelectAll:[1,"hasSelectAll"],hasSelectAllText:[1,"hasSelectAllText"],multiple:[2,"multiple","multiple",C],selectedOptionTemplate:"selectedOptionTemplate",identityMatcher:"identityMatcher"},features:[ue([{provide:oe,useExisting:se(()=>k)},{provide:Ee,useExisting:oe}]),v],ngContentSelectors:Pe,decls:7,vars:7,consts:[["dropdownContent",""],["aria-haspopup","listbox",1,"odx-select__trigger",3,"odxDropdownBeforeOpen","odxDropdownAfterOpen","odxDropdownBeforeClose","odxDropdownAfterClose","odxDropdown","odxDropdownDisabled","odxDropdownOptions","odxDropdownReferenceElement","odxDropdownShowLoader"],[1,"odx-select__value"],[1,"odx-select__placeholder"],["name","chevron-down","iconSet","core",1,"odx-select__indicator"],[3,"odxDynamicView","odxDynamicViewContext"],["name","close","iconSet","core",1,"odx-select__clear"],["name","close","iconSet","core",1,"odx-select__clear",3,"click"],["role","listbox",1,"odx-dropdown__option-list"],["disabled","","notFoundMessage",""],["odxSelectAll","",1,"odx-option","odx-option--select-all"],["odxSelectAll","",1,"odx-option","odx-option--select-all",3,"click"],[3,"indeterminate","checked"],[3,"odxDynamicView"]],template:function(t,n){if(t&1){let o=V();Y(Le),d(0,"div",1),p("odxDropdownBeforeOpen",function(){return _(o),S(n.onDropdownOpen())})("odxDropdownAfterOpen",function(){return _(o),S(n.onDropdownOpened())})("odxDropdownBeforeClose",function(){return _(o),S(n.onDropdownClose())})("odxDropdownAfterClose",function(){return _(o),S(n.onDropdownClosed())}),a(1,$e,3,5,"div",2)(2,ze,2,1,"div",3),I(3),de(4,"odx-icon",4),h(),a(5,Ye,3,1,"ng-template",null,0,Z)}if(t&2){let o=B(6);f("odxDropdown",o)("odxDropdownDisabled",n.isDisabled||n.isReadonly)("odxDropdownOptions",me(6,je))("odxDropdownReferenceElement",n.dropdownReferenceElement)("odxDropdownShowLoader",n.isLoading),c(),x(n.selectedOptionContent&&!(n.searchField!=null&&n.searchField.isVisible())?1:n.searchField!=null&&n.searchField.isVisible()?-1:2)}},dependencies:[K,xe,ye,re,Fe,te,be,Q,ne],encapsulation:2,changeDetection:0})}};return A([Ce(),z("design:type",Object)],i.prototype,"multiple",void 0),i=A([L("select")],i),i})();var ei=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=ae({type:i})}static{this.\u0275inj=ce({imports:[Je,re,ie]})}}return i})();export{re as a,Je as b,ei as c};
